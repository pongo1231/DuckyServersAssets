#base robot_standard.pop
#base robot_giant.pop


//spawnbot (main spawn on the left), spawnbot_flank (smaller spawn in the right), and spawnbot_invasion (which spawns from the previous 2 spawns together) 

WaveSchedule
{
    StartingCurrency 500
    RespawnWaveTime 4
    MaxRedPlayers 4
    CanBotsAttackWhileInSpawnRoom no
    AddSentryBusterWhenDamageDealtExceeds 3000
    AddSentryBusterWhenKillCountExceeds 15

    Mission // Sentry Buster
    {
        Objective DestroySentries
        Where spawnbot
        BeginAtWave 1
        RunForThisManyWaves 6
        InitialCooldown 40
        CooldownTime 35
        DesiredCount 1
        TFBot
        {
            Template T_TFBot_SentryBuster
        }
    }
    Mission // Spy
    {
        Objective Spy
        Where spawnbot
        BeginAtWave 2
        RunForThisManyWaves 1
        InitialCooldown 35
        CooldownTime 25
        DesiredCount 2
        TFBot
        {
            Template T_TFBot_Spy
        }
    }
    Mission // Sniper
    {
        Objective Sniper
        Where spawnbot
        BeginAtWave 5
        RunForThisManyWaves 1
        InitialCooldown 35
        CooldownTime 30
        DesiredCount 1
        TFBot
        {
            Template T_TFBot_Sniper
        }
    }
    Templates
    {
        T_TFBot_31_79_JGb215
        {
            Class Soldier
            ClassIcon soldier_cowmangler
            Attributes MiniBoss
            WeaponRestrictions PrimaryOnly
            Name "31-79 JGb215"
            Attributes holdfireuntilfullreload
            Item "Sergeant's Drill Hat"
            Item "The Cow Mangler 5000"
            Skill Expert
            Health 22000
            Attributes UseBossHealthBar
            ItemAttributes
            {
                ItemName "tf_weapon_particle_cannon"
                "Projectile speed increased" 1.25
                "dmg bonus vs buildings" 0.01
                "damage bonus" 1.25
                "clip size upgrade atomic" 3
                "fire rate bonus" 1.1
                "Blast radius increased" 0.4
                "reload time decreased" 0.8
            }
            CharacterAttributes
            {
                "move speed bonus"	0.5
                "rage giving scale" 0.2
                "damage force reduction" 0.4
                "airblast vulnerability multiplier" 0.4
                "override footstep sound set" 3
            }
        }
    }
    Wave // 1
    {
        WaitWhenDone 65
        Checkpoint Yes
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn
        {
            Name 1_Giant
            Where spawnbot
            TotalCurrency 150
            TotalCount 2
            MaxActive 1
            SpawnCount 1
            WaitBetweenSpawns 6
            WaitBeforeStarting 2
            TFBot
            {
                Class Soldier
                Name "Giant Soldier"
                ClassIcon soldier_giant
                Skill Expert
                Item "Lumbricus Lid"
                Health 3800
                WeaponRestrictions PrimaryOnly
                Attributes HoldFireUntilFullReload
                Attributes MiniBoss
                CharacterAttributes
                {
                    "move speed bonus"	0.5
                    "damage force reduction" 0.4
                    "airblast vulnerability multiplier" 0.4
                    "override footstep sound set" 3
                }
            }
        }
        WaveSpawn
        {
            Name 1_Bowmen
            Where spawnbot
            TotalCurrency 150
            TotalCount 18
            MaxActive 6
            SpawnCount 2
            WaitBeforeStarting 5
            WaitBetweenSpawns 3
            TFBot
            {
                Class Sniper
                Name "Huntsman"
                Skill Hard
                ClassIcon sniper_bow
                WeaponRestrictions PrimaryOnly
                Item "The Huntsman"

                ItemAttributes
                {
                    ItemName "The Huntsman"
                    "damage bonus" 0.5
                }
            }
        }
        WaveSpawn
        {
            Name 1_Molotov
            Where spawnbot_flank
            TotalCurrency 150
            TotalCount 16
            MaxActive 4
            SpawnCount 2
            WaitBeforeStarting 4
            WaitBetweenSpawns 3
            TFBot
            {
                Class Pyro
                Name "Pack-a-Punched Molotov"
                Skill Normal
                ClassIcon pyro_detonator_lite
                Item "The Detonator"
                WeaponRestrictions SecondaryOnly
                Attributes AlwaysCrit
                ItemAttributes
                {
                    ItemName "The Detonator"
                    "damage bonus"	0.7
                    "fire rate bonus" 0.75
                    "faster reload rate" 1
                    "Projectile speed increased" 1.4
                }
            }
        }
        WaveSpawn
        {
            Name 1_GiantBrawler
            Where spawnbot
            TotalCurrency 150
            TotalCount 8
            MaxActive 1
            SpawnCount 1
            WaitForAllDead 1_Giant
            Squad
            {
                TFBot
                {
                    Template T_TFBot_Giant_Boxing_Heavy
                    Name "Giant Brawler"
                }
                TFBot
                {
                    Template T_TFBot_Medic_BigHeal
                    Name "Big Heal"
                }
                TFBot
                {
                    Template T_TFBot_Medic_BigHeal
                    Name "Big Heal"
                }
                TFBot
                {
                    Template T_TFBot_Medic_BigHeal
                    Name "Big Heal"
                }
            }
        }
        WaveSpawn
        {
            Name 1_BrawlerS
            Where spawnbot_flank
            TotalCurrency 200
            TotalCount 24
            MaxActive 6
            SpawnCount 2
            WaitForAllDead 1_Giant
            WaitBeforeStarting 3
            WaitBetweenSpawns 4
            TFBot
            {
                Class Demoman
                Skill Hard
                Name "Quick Mortar"
                WeaponRestrictions PrimaryOnly
                Attributes HoldFireUntilFullReload
                ItemAttributes
                {
                    ItemName "TF_WEAPON_GRENADELAUNCHER"
                    "faster reload rate" 0.65
                }
            }
        }
        WaveSpawn
        {
            Name 1_Support
            Where spawnbot
            TotalCurrency 0
            TotalCount 12
            Support 1
            WaitForAllDead 1_Giant
            WaitBeforeStarting 4
            WaitBetweenSpawns 3
            SpawnCount 2
            MaxActive 6
            TFBot
            {
                Class Scout
                WeaponRestrictions MeleeOnly
                Skill Easy
                ClassIcon scout_bat_nys
                Name "Fast Scouts"
                CharacterAttributes
                {
                    "move speed bonus"	1.1
                }
            }
        }
    }
    Wave // 2
    {
        WaitWhenDone 65
        Checkpoint Yes
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn
        {
            Name 2_GiantDemoknight
            Where spawnbot
            TotalCurrency 200
            TotalCount 3
            WaitBeforeStarting 2
            SpawnCount 1
            MaxActive 2
            WaitBetweenSpawns 18
            TFBot
            {
                Template T_TFBot_Giant_Soldier_Crit
                Name "Pack-a-Punched Soldier"
            }
        }
        WaveSpawn
        {
            Name 2_Commons1
            Where spawnbot
            TotalCurrency 200
            TotalCount 52
            SpawnCount 8
            MaxActive 16
            WaitBetweenSpawns 6
            TFBot
            {
                Class Pyro
                WeaponRestrictions PrimaryOnly
                Name "Napalm Robot"
                Skill Easy
            }
        }
        WaveSpawn
        {
            Name 2_FoS
            Where spawnbot
            TotalCurrency 200
            TotalCount 24
            SpawnCount 1
            MaxActive 8
            WaitBetweenSpawns 4
            WaitBeforeStarting 8
            WaitForAllSpawned 2_Commons1
            Squad
            {
                TFBot
                {
                    Template T_TFBot_Heavyweapons_Fist
                    Name "Iron Fists"
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                    Name "Uber Healer"
                }
            }
        }
        WaveSpawn
        {
            Name 2_Tank
            TotalCurrency 200
            TotalCount 1
            SpawnCount 1
            MaxActive 1
            WaitForAllDead 2_GiantDemoknight
            Tank
            {
                Health 13000
                Name "Tank"
                Speed 65
                OnKilledOutput
				{
					Target	boss_dead_relay
					Action	Trigger
				}
				OnBombDroppedOutput
				{
					Target	boss_deploy_relay
					Action	Trigger
                }
            }
        }
    }
    Wave // 3
    {
        WaitWhenDone 65
        Checkpoint Yes
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn
        {
            Name 3_GDemos
            TotalCurrency 100
            TotalCount 2
            SpawnCount 1
            MaxActive 2
            WaitBetweenSpawns 12
            where spawnbot
            TFBot
            {
                Template T_TFBot_Giant_Demoman
                Name "Giant Mortar"
            }
        }
        WaveSpawn
        {
            Name 3_Beggars
            TotalCurrency 100
            TotalCount 16
            SpawnCount 4
            MaxActive 8
            WaitBetweenSpawns 6
            Where spawnbot
            TFBot
            {
                Class Soldier
                Skill Normal
                ClassIcon soldier_bazooka
                Name "Kamikaze Soldier"
                Item "The Beggar's Bazooka"
                Attributes holdfireuntilfullreload
                ItemAttributes
                {
                    ItemName "The Beggar's Bazooka"
                }
            }
        }
        WaveSpawn
        {
            Name 3_Demosupport
            TotalCurrency 100
            TotalCount 18
            SpawnCount 2
            MaxActive 8
            WaitBetweenSpawns 6
            WaitBeforeStarting 4
            where spawnbot_flank
            TFBot
            {
                Class Pyro
                WeaponRestrictions PrimaryOnly
                Name "Napalm"
                Skill Easy
            }
        }
        WaveSpawn
        {
            Name 3_GHeavy
            TotalCurrency 300
            TotalCount 3
            SpawnCount 1
            MaxActive 2
            WaitBetweenSpawns 25
            Where Spawnbot
            WaitForAllDead 3_GDemos
            TFBot
            {
                Template T_TFBot_Giant_Heavyweapons_Shotgun
                Name "Fist Of Iron"
            }
        }
        WaveSpawn
        {
            Name 3_HeavySupport
            TotalCurrency 100
            TotalCount 20
            SpawnCount 2
            MaxActive 6
            WaitBeforeStarting 2
            WaitBetweenSpawns 4
            Where spawnbot
            WaitForAllDead 3_GDemos
            TFBot
            {
                Class Demoman
                Name "Jungle Mortar"
                Skill Hard
            }
        }
        WaveSpawn
        {
            Name 3_Support1
            TotalCurrency 100
            TotalCount 24
            MaxActive 8
            SpawnCount 4
            Support 1
            WaitBeforeStarting 2
            WaitBetweenSpawns 4
            where spawnbot_flank
            WaitForAllDead 3_HeavySupport
            TFBot
            {
                Template T_TFBot_Heavyweapons_Heavyweight_Champ
                Name "Small Champ"
            }
        }
    }
    Wave // 4
    {
        WaitWhenDone 65
        Checkpoint Yes
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn
        {
            Name 4_Tank1
            TotalCurrency 150
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 2
            Tank
            {
                Health 15000
                Name "Tank"
                Speed 60
                OnKilledOutput
				{
					Target	boss_dead_relay
					Action	Trigger
				}
				OnBombDroppedOutput
				{
					Target	boss_deploy_relay
					Action	Trigger
                }
            }
        }
        WaveSpawn
        {
            Name 4_TankSupport1
            TotalCurrency 50
            TotalCount 26
            MaxActive 12
            SpawnCount 1
            WaitBetweenSpawns 4
            WaitBeforeStarting 3
            Where spawnbot
            Squad
            {
                TFBot
                {
                    Class Pyro
                    Attributes AlwaysFireWeapon
                    Name "W+M1"
                    Skill Hard
                }
                TFBot
                {
                    Template T_TFBot_Sniper_Huntsman
                    Name "Kreema'ahm la Ahmahm"
                }
            }
        }
        WaveSpawn
        {
            Name 4_DirectHits
            TotalCurrency 50
            TotalCount 20
            MaxActive 4
            SpawnCount 2
            where spawnbot_flank
            WaitBeforeStarting 2
            WaitBetweenSpawns 4
            TFBot
            {
                Class Soldier
                Skill Normal
                Item "The Direct Hit"
                Name "XM-53"
                ClassIcon soldier_directhit
            }
        }
        WaveSpawn
        {
            Name 4_GSoldier
            TotalCurrency 100
            TotalCount 8
            MaxActive 8
            SpawnCount 1
            Where spawnbot
            WaitForAllDead 4_Tank1
            WaitBetweenSpawns 14
            WaitBeforeStarting 4
            Squad
            {
                TFBot
                {
                    Template T_TFBot_Giant_Soldier_Spammer_Reload
                    Name "Giant Burst Soldier"
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
            }
        }
        WaveSpawn
        {
            Name 4_GSoldierSupport
            TotalCurrency 50
            TotalCount 28
            MaxActive 8
            SpawnCount 2
            where spawnbot_flank
            WaitForAllDead 4_Tank1
            WaitBeforeStarting 4
            WaitBetweenSpawns 4
            TFBot
            {
                Template T_TFBot_Demoman_Knight
                Name "Pack-a-Punched Knight"
                Attributes AlwaysCrit
            }
        }
        WaveSpawn
        {
            Name 4_Tank2
            TotalCurrency 100
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 2
            WaitForAllDead 4_GSoldier
            Tank
            {
                Health 18000
                Name "Tank"
                Skin 1
                Speed 70
                OnKilledOutput
				{
					Target	boss_dead_relay
					Action	Trigger
				}
				OnBombDroppedOutput
				{
					Target	boss_deploy_relay
					Action	Trigger
                }
            }
        }
        WaveSpawn
        {
            Name 4_TankSupport2
            TotalCurrency 0
            TotalCount 12
            Support 1
            MaxActive 4
            SpawnCount 1
            WaitForAllSpawned 4_Tank2
            WaitBetweenSpawns 4
            WaitBeforeStarting 3
            where spawnbot_flank
            TFBot
            {
                Class Soldier
                Skill Normal
            }
        }
        WaveSpawn
        {
            Name 4_TankSupport3
            TotalCurrency 0
            TotalCount 8
            Support 1
            MaxActive 2
            SpawnCount 1
            WaitForAllSpawned 4_Tank2
            WaitBetweenSpawns 4
            WaitBeforeStarting 4
            where spawnbot
            TFBot
            {
                Class Pyro
                Skill Hard
            }
        }
    }
    Wave // 5 Final
    {
        WaitWhenDone 65
        Checkpoint Yes
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn
        {
            Name 5_SScouts1
            TotalCurrency 200
            TotalCount 6
            SpawnCount 1
            MaxActive 2
            WaitBetweenSpawns 8
            WaitBeforeStarting 1
            Where spawnbot
            TFBot
            {
                Template T_TFBot_Giant_Scout_Fast
                Name "Stamin-Up Scout"
            }
        }
        WaveSpawn
        {
            Name 5_Support1
            TotalCurrency 50
            TotalCount 20
            MaxActive 10
            SpawnCount 4
            where spawnbot
            WaitBeforeStarting 2
            WaitBetweenSpawns 5
            TFBot
            {
                Class Soldier
                Skill Hard
            }
        }
        WaveSpawn
        {
            Name 5_Support2
            TotalCurrency 50
            TotalCount 8
            MaxActive 4
            SpawnCount 1
            Where spawnbot_flank
            WaitBeforeStarting 3
            WaitBetweenSpawns 5
            TFBot
            {
                Class Heavyweapons
                Name "Death Machine"
                Skill Easy
            }
        }
        WaveSpawn
        {
            Name 5_Boss1
            TotalCurrency 200
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            Where spawnbot
            WaitBeforeStarting 4
            WaitForAllDead 5_SScouts1
            TFBot
            {
                Template T_TFBot_31_79_JGb215
            }
        }
        WaveSpawn
        {
            Name 5_BossSupport
            TotalCurrency 0
            Support 1
            MaxActive 2
            SpawnCount 1
            WaitBetweenSpawns 3
            WaitForAllSpawned 5_Boss1
            where spawnbot_flank
            TFBot
            {
                Class Scout
                Skill Easy
            }
        }
        WaveSpawn
        {
            Name 5_BossSupport2
            TotalCurrency 0
            Support 1
            MaxActive 2
            SpawnCount 1
            WaitBetweenSpawns 4
            WaitForAllSpawned 5_Boss1
            Where spawnbot_flank
            TFBot
            {
                Class Scout
                WeaponRestrictions MeleeOnly
                Skill Hard
                ClassIcon scout_bat_nys
                Attributes AlwaysCrit
            }
        }
    }
}