#base robot_giant.pop
#base robot_gatebot.pop
#base robot_standard.pop
#base robot_sif.pop
#base robot_sigsegv_reloaded.pop

// Frigid Citadel [Advanced]
// made by SiF // https://steamcommunity.com/id/SiFWolfy/
// @2023
//
// Map: Silentsky rc4 by PenolAkushari
// Thanks to lite for the icons // https://steamcommunity.com/id/liteflame  
// And nys // https://steamcommunity.com/profiles/76561198048562129

// Explanation;
// You are sent by an unknown commander to clean up robots that are in silentsky.
// Robots will be periodically sent to fight on your side.
// Custom Upgrades Count:
// Custom Weapons Count:
// 
// Total Money: 621 + 779 + 700 + 750 + 800 + 850 + 1566 = 6666 if it is perfect 
// 
// Weapons are based off cut and TFC weapons. 
// 
// Note for sif, spawns = spawnbot, spawnbot_side, tank_path1
// Available ExtraSpawn are.. sky, sky2, sky3, sniper_ambush, sniper_far, sniper_close, sniper_fence
// spy_close, stairs, tank_gate, tank_gate2

// Version 1.0 - Finished the Custom upgrade, bans, and Custom Weapons
// Version 1.1 - Added wave 1-5, pipebomb launcher, and assault cannon


WaveSchedule
{

	StartingCurrency 621 // This should be enough to purchase custom upgrades.
	RespawnWaveTime 5
	CanBotsAttackWhileInSpawnRoom no
	Advanced	1
		
//	 GameRule
	BunnyHop 1 // Just checking what this does.
	FixedBuybacks 1  
	BuybacksPerWave 3  // After the third free buyback, you will need to sit out for the whole 5 seconds respawntime.

	AllowMultipleSappers 1
	ImprovedAirblast 1
	NoSapUnownedBuildings 1
	
	DisplayRobotDeathNotice 1 
	AllowBotExtraSlots 1
	RobotLimit 32 // Umm.. 6 human, 2 spec - that's 32

	ForceHoliday 2
	NoCritPumpkin 1
	NoThrillerTaunt 1
	NoRomevisionCosmetics 1 
	
	TextPrintTime 0
//	NoMissionInfo 0 // Not used

	FixHuntsmanDamageBonus 1
	SandmanStun 1
	SniperHideLasers 1
	//UpgradeStationKeepWeapons 1 // prevent dropped weapons disappearing?
	
	AllowJoinTeamBlue 1
	AllowJoinTeamBlueMax 1
	
	WaveStartCountdown 5
	
	SendBotsToSpectatorImmediately 1

	PrecacheModel "models\workshop\weapons\c_models\c_pilot_flamer\c_pilot_flamer.mdl"
	PrecacheModel "models\weapons\c_models\c_pilot_flaregun\c_pilot_flaregun.mdl"
	PrecacheModel "models\weapons\c_models\c_wasp_launcher\c_wasp_launcher_1.mdl"
	PrecacheModel "models\weapons\c_models\c_big_man\c_big_man.mdl"
	PrecacheModel "models\weapons\c_models\c_biobreaker\c_biobreaker.mdl"
	PrecacheModel "models\workshop\weapons\c_models\c_tokamak\c_tomislav.mdl"

// Disabled Sounds
	DisableSound "Announcer.MVM_Wave_Start"
	DisableSound "Announcer.MVM_Wave_End"  
	DisableSound "Announcer.MVM_Bonus"
	DisableSound "MVM.Robot_Teleporter_Deliver"
	DisableSound "MVM.PlayerBoughtIn"
	DisableSound "MVM.TankPing" // Ow, my effing ears.
	DisableSound "MVM.PlayerDiedScout"
	DisableSound "MVM.PlayerDiedSoldier"
	DisableSound "MVM.PlayerDiedPyro"
	DisableSound "MVM.PlayerDiedDemoman"
	DisableSound "MVM.PlayerDiedHeavy"
	DisableSound "MVM.PlayerDiedEngineer"
	DisableSound "MVM.PlayerDiedMedic"
	DisableSound "MVM.PlayerDiedSniper"
	DisableSound "MVM.PlayerDiedSpy"
	
	DisableSound "Game.YourTeamWon"

// Custom Upgrade Ban

	DisallowUpgrade	"explode_on_ignite"  
	DisallowUpgrade	"weapon burn time increased" // Broken
	DisallowUpgrade	"weapon burn dmg increased"
	DisallowUpgrade	"generate rage on damage"
	DisallowUpgrade	
	{
		Upgrade	"engy sentry fire rate increased" // Broken
		MaxLevel 2 
	}
	
//	DisallowUpgrade	
//	{
//		Upgrade	"engy disposable sentries"
//		MaxLevel 0 
//	}

//
// Judge Bans
//
//	ItemBlacklist  
//	{
//		SimilarToItem "The Phlogistinator"
//		SimilarToItem "The Ubersaw"
//	}
//	DisallowUpgrade	"applies snare effect"  
//	DisallowUpgrade	"ubercharge"  
//	DisallowUpgrade	"critboost"  
//	DisallowUpgrade	"mad milk syringes"  
//	DisallowUpgrade	"generate rage on heal"  
//	DisallowUpgrade	"uber duration bonus"  
//	DisallowUpgrade  
//	{
//		Upgrade "effect bar recharge rate increased"
//		ClassName "tf_weapon_jar"
//		ClassName "tf_weapon_jar_milk"
//	}
//	DisallowUpgrade	  
//	{
//		Upgrade "explosive sniper shot"
//		ClassName "tf_weapon_sniperrifle"
//		ClassName "tf_weapon_sniperrifle_decap"
//	}
//	DisallowUpgrade	  
//	{
//		Upgrade "rocket specialist"
//		SimilarToItem "The Beggar's Bazooka"
//	
	ItemAttributes
	{
		ItemName	"The Loose Cannon"
		"override projectile type" 3
		"custom projectile model" "models\weapons\w_models\w_cannonball.mdl"
		"grenade launcher mortar mode"	0
	}
	ItemAttributes
	{
		ItemName	"The Ambassador"
		"crit_dmg_falloff" 0	// undo terrible nerf
	}
	ItemAttributes
	{
		ItemName	"The Scorch Shot" // Fuck you, no scorch shot stalling
		"mod flaregun fires pellets with knockback" 1 // detonator proj
	}
	ItemAttributes
	{
		ItemName	"TF_WEAPON_FLAMETHROWER" 
		"airblast functionality flags" 6 // airblast pushback is now removed
	}
	ItemAttributes
	{
		ItemName	"The Nostromo Napalmer"
		"airblast functionality flags" 6 // airblast pushback is now removed
	}
	ItemAttributes
	{
		ItemName	"The Degreaser"
		"airblast functionality flags" 6 // airblast pushback is now removed
	}
	
// Extra Spawn
	ExtraSpawnPoint    //Adds spawn points on specified location
    {
        Name "ctspawn"
        TeamNum 3 
        X	"-2966"                     
        Y	"-3050"                  
        Z	"570"        
    }
	ExtraSpawnPoint    //Adds spawn points on specified location
    {
        Name "hatch"
        TeamNum 3 
        X	"-2485"                     
        Y	"-3032"                  
        Z	"666"        
    }
	ExtraSpawnPoint
    {
        Name "protocopyfence" // 
        TeamNum 3 
        X	"-5099"                     
        Y	"-3246"                  
        Z	"200"        
    }
	ExtraSpawnPoint
    {
        Name "protocopycubby" // 
        TeamNum 3 
        X	"-6126"                     
        Y	"-2432"                  
        Z	"-30"        
    }
	ExtraSpawnPoint    //
    {
        Name "protocopyred" // 
        TeamNum 3 
        X	"-5939"                     
        Y	"-3207"                  
        Z	"-30"        
    }
	ExtraSpawnPoint    //
    {
        Name "protocopysniper" // rafter
        TeamNum 3 
        X	"-4590"                     
        Y	"-3596"                  
        Z	"455"        
    }
	ExtraSpawnPoint  
    {
        Name "protocopysniper2" // front
        TeamNum 3 
        X	"-5902"                     
        Y	"-2286"                  
        Z	"135"        
    }
	ExtraSpawnPoint
    {
        Name "protocopysniper3" // fence
        TeamNum 3 
        X	"-5237.68"                     
        Y	"-2659.31"                  
        Z	"325"        
    }
	ExtraSpawnPoint  
    {
        Name "protocopysniper4" // human sniper spot
        TeamNum 3 
        X	"-4978.71"                     
        Y	"-3715.97"                  
        Z	"372"        
    }
	ExtraSpawnPoint 
    {
        Name "spawn_intel" // The robot intel spawn is outside the map
        TeamNum 3 
        X	"-5066"                     
        Y	"645"                  
        Z	"100"        
    }
	ExtraSpawnPoint 
    {
        Name "sniperaggroright" // near window, very aggressive spot
        TeamNum 3 
        X	"-6083"                     
        Y	"-453"                  
        Z	"180"        
    }
	ExtraSpawnPoint 
    {
        Name "sniperaggroleft" // near window, very aggressive spot
        TeamNum 3 
        X	"-5719"                     
        Y	"-331"                  
        Z	"150"        
    }
	ExtraSpawnPoint 
    {
        Name "sniperright"
        TeamNum 3 
        X	"-6232"                     
        Y	"-1225"                  
        Z	"200"        
    }
	ExtraSpawnPoint 
    {
        Name "sniperleft"
        TeamNum 3 
        X	"-6232"                     
        Y	"-1489"                  
        Z	"200"        
    }
	ExtraSpawnPoint 
    {
        Name "sniperramp"
        TeamNum 3 
        X	"-4834"                     
        Y	"-1094"                  
        Z	"390"        
    }
	ExtraSpawnPoint 
    {
        Name "combine1"
        TeamNum 3 
        X	"-5220"                     
        Y	"-1612"                  
        Z	"200"        
    }
	ExtraSpawnPoint 
    {
        Name "combine2"
        TeamNum 3 
        X	"-4992"                     
        Y	"-1121"                  
        Z	"200"        
    }
	ExtraSpawnPoint 
    {
        Name "boss_owo" // drops from the sky, rock pos
        TeamNum 3 
        X	"-5823"                     
        Y	"-1275"                  
        Z	"1650"        
    }
	ExtraSpawnPoint 
    {
        Name "zmSpawnawa"
        TeamNum 3 
        X	"-5169"                     
        Y	"-1443"                  
        Z	"-55"        
    }
	ExtraSpawnPoint 
    {
        Name "zmSpawnowo"
        TeamNum 3 
        X	"-5248"                     
        Y	"-1074"                  
        Z	"-55"        
    }

// Extended Upgrades

	ExtendedUpgrades
	{

	// Scout Custom Upgrades
		upgrade
		{
			Name "Recoiling Bullets"
			Description "Gain minicrit on kill, but lose 40% of your health."
			Attribute "minicrit on kill"
			Cap 3
			Increment 3
			Cost 400
			AllowPlayerClass Scout
			SecondaryAttributes
			{
				"max health additive penalty" -50
				"always crit" 1
			}
			AllowedWeapons
			{
				Slot "Primary"
			}
		}
		upgrade
		{
			Name "Aegis Coil"
			Description "Collect credits 10% further and Heal +15 more HP from each credits picked up."
			Attribute "health from credits"
			Cap 50
			Increment 15
			Cost 250
			AllowPlayerClass Scout
			AllowedWeapons
			{
				Slot "Primary"
			}
			SecondaryAttributes
			{
				"mult credit collect range" 0.1
			}
		}
		upgrade
		{
			Name "Swift Parry"
			Description "Gain a 0.2s window to reflect projectile after swinging melee."
			Attribute "melee grants protection"
			Cap 0.6
			Increment 0.2
			Cost 300
			//AllowPlayerClass Scout
			//AllowPlayerClass Soldier
			//AllowPlayerClass Pyro
			AllowPlayerClass Demoman
			//AllowPlayerClass Heavy
			//AllowPlayerClass Engineer
			//AllowPlayerClass Medic
			//AllowPlayerClass Sniper
			//AllowPlayerClass Spy
			SecondaryAttributes
			{
				"melee airblast" 1
			}
			AllowedWeapons
			{
				Slot "Melee"
			}
			DisallowedWeapons
			{
				ItemName "TF_WEAPON_BOTTLE"
			}
		}
		upgrade
		{
			Name "25% Debuff Duration"
			Description "Milk and Jarate effect lasts 25% longer."
			Attribute "mult debuff duration"
			AllowPlayerClass Scout
			AllowPlayerClass Sniper
			Cap 2
			Increment 0.25
			Cost 200
			AllowedWeapons
			{
				ItemName "Jarate"
				ItemName "Mad Milk"
				ItemName "The Fan O'War"
				ItemName "Festive Jarate"
				ItemName "Mutated Milk"
				ItemName "The Self-Aware Beauty Mark"
			}
		}
		upgrade 
        {
            Name "+25% Secondary Damage bonus"
            Attribute "damage bonus"
            Cap 2
			Increment 0.25
			Cost 250 
			AllowPlayerClass Scout
			AllowPlayerClass Soldier
			AllowPlayerClass Pyro
			AllowPlayerClass Heavy
			AllowPlayerClass Engineer
			AllowPlayerClass Spy
            AllowedWeapons
			{
				Slot "Secondary"
			}
			DisallowedWeapons
			{
				ItemName "Mad Milk"
				ItemName "Mutated Milk"
				ItemName "Bonk! Atomic Punch"
				ItemName "Crit-a-Cola"
				ItemName "The Righteous Bison"  // Okay, why do you want bonus dmg on Bison
				ItemName "The Buff Banner"
				ItemName "Festive Buff Banner"
				ItemName "The Battalion's Backup"
				ItemName "The B.A.S.E. Jumper"
				ItemName "The Mantreads"
				ItemName "The Gunboats"
				ItemName "The Concheror"
				ItemName "The Gas Passer"
				ItemName "The Scorch Shot"
				ItemName "The Detonator"
				ItemName "The Manmelter"
				ItemName "The Thermal Thruster"
				ItemName "The Sandvich"
				ItemName "Festive Sandvich"
				ItemName "The Buffalo Steak Sandvich"
				ItemName "The Dalokohs Bar"
				ItemName "Sandvich Promo Package"
				ItemName "The Second Banana"
				ItemName "The Short Circuit"
				ItemName "The Wrangler"
				ItemName "Festive Wrangler"
				ItemName "The Giger Counter"
			}
		}	
		// Soldier Custom Upgrades
		upgrade
		{
			Name "Charged Rockets"
			Description "Fires red rockets at the expense of lower fire rate owo"
			Attribute "always crit"
			Cap 1
			Increment 1
			Cost 600
			AllowPlayerClass Soldier
			SecondaryAttributes
			{
				"fire rate penalty"				1
				//"Projectile speed decreased"	-0.5
				"Reload time increased"			1.75
			}
			AllowedWeapons
			{
				Slot "Primary"
			}
		}
		
		upgrade
		{
			Name "Gain +2 Clip Size on Kill"
			//Description ""
			Attribute "clipsize increase on kill"
			Cap 10
			Increment 2
			Cost 250
			AllowPlayerClass Soldier
			AllowedWeapons
			{
				Slot "Primary"
			}
		}
		upgrade 
		{
			Name "25% Banner Range"
			Attribute "mod soldier buff range"
			Cap 2.7
			Increment 0.25
			Cost 200
            AllowedWeapons
            {
                ItemName "The Buff Banner"
				ItemName "Festive Buff Banner"
				ItemName "The Battalion's Backup"
				ItemName "The Concheror"
            }
		}

		// Pyro Custom Upgrade
		upgrade
		{
			Name "Advanced Heat Torch"
			Description "Increases flamethrower range by 15%"
			Attribute "flame_drag"
			Cap 4.5
			Increment -1.5
			Cost 300
			AllowPlayerClass Pyro
			AllowedWeapons
			{
				ItemName "TF_WEAPON_FLAMETHROWER"
				ItemName "The Degreaser"
				ItemName "The Backburner"
				ItemName "The Phlogistinator"
				ItemName "The Dragon's Fury"
			}
			SecondaryAttributes
			{
				"flame_up_speed" -25
			}
		}
				upgrade
		{
			Name "Speed Boost on Kill"
			//Description "Gain temporary speed increase on kill"
			Attribute "speed_boost_on_kill"
			Cap 3
			Increment 1
			Cost 200
			AllowPlayerClass Pyro
			AllowedWeapons
			{
				ItemName "TF_WEAPON_FLAMETHROWER"
				ItemName "The Degreaser"
				ItemName "The Backburner"
				ItemName "The Phlogistinator"
				ItemName "The Dragon's Fury"
			}
		}
		// Demo Custom Upgrade
		upgrade
		{
			Name "Caber Instant Recharge" // testers were throwing, unused.
			Attribute "regenerate stickbomb"
			Cap 1
			Increment 1
			Cost 50
			AllowPlayerClass Demoman
			AllowedWeapons
			{
				ItemName "The Ullapool Caber"
			}
			RequiredWeaponsString "Requires the caber"
		}
		upgrade
		{
			Name "25% Wider Melee Reach"
			//Description "Increases melee attack range by 25% and it hits all robots within your range."
			Attribute "melee range multiplier"
			Cap 2
			Increment 0.25
			Cost 250
			//AllowPlayerClass Scout
			//AllowPlayerClass Soldier
			AllowPlayerClass Demoman
			SecondaryAttributes
			{
				"melee cleave attack"  1 // This is just a bonus.
			}
			AllowedWeapons
			{
				ItemName "Three-Rune Blade"
				ItemName "The Claidheamohmor"
				ItemName "The Disciplinary Action"
				ItemName "The Eyelander"
				ItemName "The Half-Zatoichi"
				ItemName "Festive Eyelander" // For some reason this is a diff Item ID? Valve what?
				ItemName "The Horseless Headless Horseman's Headtaker"
				ItemName "Nessie's Nine Iron"
				ItemName "The Persian Persuader"
				ItemName "The Scotsman's Skullcutter"
				ItemName "The Market Gardener"
				ItemName "The Disciplinary Action"
			}
		}
		upgrade
		{
			Name "25% Increased blast radius"
			//Description "Increases melee attack range by 25% and it hits all robots within your range."
			Attribute "Blast radius increased"
			Cap 2
			Increment 0.25
			Cost 300
			AllowPlayerClass Soldier
			AllowPlayerClass Demoman
		}
		// Heavy Custom Upgrade
		upgrade
		{
			Name "Busted +25% Damage bonus"
			Description "Increases Minigun damage; Ammo leakage included."
			Attribute "damage bonus"
			Cap 2.25
			Increment 0.25
			Cost 450
			AllowPlayerClass HeavyWeapons
			AllowedWeapons
			{
				ItemName "The Brass Beast"
				ItemName "TF_WEAPON_MINIGUN"
				ItemName "Festive Minigun"
				ItemName "Natascha"
				ItemName "Tomislav"
				ItemName "Iron Curtain"
				ItemName "The Huo Long Heatmaker"
			}
			SecondaryAttributes
			{
				"uses ammo while aiming" 3
			}
		}
		
		upgrade
		{
			Name "Ammo Recoverer"
			Description "Regain 5% lost ammo every 5 seconds."
			Attribute "ammo regen"
			Cap 0.3
			Increment 0.05
			Cost 200
			AllowPlayerClass HeavyWeapons
			AllowedWeapons
			{
				ItemName "The Brass Beast"
				ItemName "TF_WEAPON_MINIGUN"
				ItemName "Festive Minigun"
				ItemName "Natascha"
				ItemName "Tomislav"
				ItemName "Iron Curtain"
				ItemName "The Huo Long Heatmaker"
			}
		}
		// Engi Custom Upgrade
		sentrydmgbonus
		{
			Name "Advanced Ammo Depot"
			Description "Sentries deal 15% more damage."
			Cost 250
			Attribute "mvm sentry ammo"
			Cap 1.55
			Increment 0.15
			AllowPlayerClass Engineer
			SecondaryAttributes
			{
				"engy sentry damage bonus"	0.15
			}
			DisallowedWeapons
			{
				ItemName "The Gunslinger"
			}
			DisallowedUpgrade { upgrade minisentries }
		}
		minisentries
		{
			Name "Oughtta Need More GUN"
			Description "Gain +5 cheap disposable sentries, but they fire slower."
			Cost 600
			Attribute "build small sentries"
			Increment 1
			Cap 1
			AllowPlayerClass Engineer
			AllowedWeapons
			{
				ItemName "The Gunslinger"
			}
			SecondaryAttributes
			{
				//"engy disposable sentries"	4
				"engy disposable sentries"	5
				"engineer sentry build rate multiplier" 2
				"engy building health bonus" 0.75
				"build rate bonus" 2
				"mod sentry cost" 0.25
				"Construction rate increased" 1.5
				"engineer sentry build rate multiplier" 2
				"building cost reduction" 0.25
				"engy sentry fire rate increased" 0.5
			}
			DisallowedUpgrade { upgrade sentrydmgbonus }
		}
		
		// Medic Custom Upgrade
		milkbolt
		{
			Name "Milk-laced Bolts"
			Attribute "fires milk bolt"
			Cap 2
			Increment 2
			Cost 200
			AllowedWeapons
			{
				ItemName "The Crusader's Crossbow" 
				ItemName "Festive Crusader's Crossbow"
			}
			DisallowedUpgrade { upgrade headshotcrossbow }
		}
		headshotcrossbow
		{
			Name "Head Seeking Bolts"
			Attribute "revolver use hit locations"
			Cap 1
			Increment 1
			Cost 250
			AllowPlayerClass Medic
			SecondaryAttributes
			{
				"can headshot" 1
			}
			AllowedWeapons
			{
				ItemName "The Crusader's Crossbow" 
				ItemName "Festive Crusader's Crossbow"
			}
			DisallowedUpgrade { upgrade milkbolt }
		}
		
		upgrade 
		{
			Name "25% Medi Beam Range"
			Attribute "mult medigun range"
			Cap 2
			Increment 0.25
			Cost 300
			AllowPlayerClass Medic
			AllowedWeapons
			{
				Slot "Secondary" 
			}
		}
		
		upgrade 
		{
			Name "Heal Friendly Building"
			Attribute "medic machinery beam"
			Cap 4
			Increment 1
			Cost 200
			AllowPlayerClass Medic
			AllowedWeapons
			{
				Slot "Secondary" 
			}
		}
		
		upgrade
		{
			Name "Overheal on Kill"
			Attribute "heal on kill"
			Cap 50
			Increment 50
			Cost 450
		//	AllowPlayerClass Scout
		//	AllowPlayerClass Soldier
		//	AllowPlayerClass Pyro
		//	AllowPlayerClass Demoman
		//	AllowPlayerClass Heavy
		//	AllowPlayerClass Demoman
			AllowPlayerClass Medic
		//	AllowPlayerClass Sniper
		//	AllowPlayerClass Spy
			SecondaryAttributes
			{
				"overheal from heal on kill" 1
			}
			AllowedWeapons
			{
				Slot "Primary"
				Slot "Melee"
			}
		}
		// Sniper Custom Upgrade
		upgrade 
		{
			Name "Murk Them, Mates!"
			Description "SMGs are able to headshot, grants mini-crit for 3s on kill"
			Attribute "minicritboost on kill"
			Cap 3
			Increment 3
			Cost 200
			AllowPlayerClass Sniper
			AllowedWeapons
			{
				Slot "Secondary" 
			}
			DisallowedWeapons
			{
				ItemName "The Razorback"
				ItemName "Darwin's Danger Shield"
				ItemName "Festive Jarate"
				ItemName "Jarate"
				ItemName "The Self-Aware Beauty Mark"
			}
			SecondaryAttributes
			{
				"weapon spread bonus"	1.5
				"can headshot" 1
			}
		}
		upgrade
		{
			Name "Explosive Jarate"
			Description "Headshots will now coat nearby robots with jarate"
			Attribute "radius sleeper"
			Cap 1
			Increment 1
			Cost 350
			AllowPlayerClass Sniper
			AllowedWeapons
			{
				ItemName "The Sydney Sleeper"
			}
			RequiredWeaponsString "Requires sydney sleeper"
		}

		upgrade
		{
			Name "Huntsman Mastery"
			Description "Fires 2 more arrow at the expense of reduced accuracy."
			Attribute "arrow mastery"
			Cap 2
			Increment 1
			Cost 350
			AllowPlayerClass Sniper
			AllowedWeapons
			{
				ItemName "The Huntsman"
				ItemName "The Fortified Compound"
			}
			RequiredWeaponsString "Requires a bow."
		}
		
		// Spy Custom Upgrade
		upgrade
		{
			Name "Efficient Backstabber"
			Description "Automatically collect currency on backstab."
			Attribute "collect currency on kill"
			Cap 1
			Increment 1
			Cost 50
			AllowPlayerClass Spy
			AllowedWeapons
			{
				Slot "Melee"
			}
		}
		upgrade
		{
			Name "Explosive Caliber"
			Description "Headshot damage are now spread onto nearby robots"
			Attribute "explosive sniper shot"
			Cap 1
			Increment 1
			Cost 250
			AllowPlayerClass Spy
			AllowedWeapons
			{
				Slot "Secondary"
			}
			SecondaryAttributes
			{
				"revolver use hit locations" 1
			}
		}
		
		upgrade
		{
			Name "Second Shot"
			Description "Upon receiving fatal damage, have 80% to instantly respawn."
			Attribute "teleport instead of die"
			Cap 0.8
			Increment 0.40
			Cost 300
			AllowPlayerClass Spy
			AllowedWeapons
			{
				Slot "Action"
			}
		}
		upgrade
		{
			Name "Preventive Disguise"
			Description "Small robots are unable to detect you, but stab damage against giant robot is greatly reduced."
			Attribute "keep disguise on attack"
			Cap 1
			Increment 1
			Cost 450
			AllowPlayerClass Spy
			AllowedWeapons
			{
				ItemName "Your Eternal Reward"
				ItemName "The Wanga Prick"
				ItemName "TF_WEAPON_KNIFE"
				ItemName "The Sharp Dresser"
			}
			SecondaryAttributes
			{
				"provide on active" 1
				"armor piercing"	-8
				"mult dmg vs giants" 0.1
				"add cond on kill" 66
				"add cond on kill" 5
			}
		}
	}	




// Custom Weapon Test

	CustomWeapon
	{
		"Semi-Auto QS-Shotgun"
		{
			OriginalItemName "Baby Face's Blaster"
			"special item description" "Fires more pellets faster, but lose your double jump"
			
			"boost on damage" 0
			"move speed bonus" 1.25
			"clip size bonus" 2 // holds 8 in clip
			"no double jump" 1
			"fire rate bonus" 0.65
			"Reload time decreased" 0.6
			"no damage falloff" 1
		}
		"Catcher's Mitt"
		{
			OriginalItemName "Batsaber"
			"special item description" "Melee swings now deflects incoming projectiles"
			
			"custom item model" "models/weapons/c_models/c_wooden_bat/c_wooden_bat.mdl"
			"melee airblast" 1
			"melee grants protection"0.2
			"melee cleave attack" 1
			"mult smack time" 0.1
		}
		
		"Incendiary Cannon" 
		{
			OriginalItemName "The Detonator"
			
			"custom item model" "models/weapons/c_models/c_pilot_flaregun/c_pilot_flaregun.mdl"
			"special item description" "Fires a rocket-like projectile that ignites robots on impact."	
			"override projectile type" 2
			"Set DamageType Ignite" 1
			"minicrit vs burning player" 1 // used to be =1
			"damage bonus" 1.75
			"custom kill icon" "detonator"
		//	"weapon burn time reduced" 0.20  // does 2*4 burn.
			"weapon burn dmg reduced" 0.5
			"no self effect" 1
			"Projectile speed increased HIDDEN" 1.20
		}
		
		"Super SMG"
		{
			OriginalItemName "TF_WEAPON_SYRINGEGUN_MEDIC"
			
			"special item description" "Your teammates are useless? Shoot them yourself"
			
			"custom item model" "models/weapons/c_models/c_smg/c_smg.mdl"
			"can headshot" 1
			"allow friendly fire" 1
			"override projectile type" 1
			"custom kill icon" "smg"
			"custom weapon fire sound" "weapons/smg_shoot.wav"
			"heal on kill" 25
			"maxammo primary increased" 4
			"damage bonus" 1.25
		}
		
		"Shotgun" 
		{
			OriginalItemName "The Crusader's Crossbow"
			
			"special item description" "I have no idea why this is here"
			"custom item model" "models/weapons/c_models/c_shotgun/c_shotgun.mdl"
			"custom weapon fire sound" "weapons/shotgun_shoot.wav"
			"custom kill icon" "shotgun_primary"
			"custom weapon reload sound" "weapons/shotgun_reload.wav"
			
			"cannot be upgraded" 1
			"can headshot" 1
			"allow friendly fire" 1 // Your teammates kept spamming that damn E button? Maybe this will help?
			"clip size bonus" 6
			"heal on kill" 25
			//"projectile penetration" 1
			"damage bonus" 1.25
			"Projectile speed increased" 13
			"fire rate penalty" 3
            "mult projectile count" 14
            "maxammo primary reduced" 0.25
           // "reload full clip at once" 1
			"projectile spread angle penalty" 5
            "Reload time increased" 0.7
			//"sniper fires tracer HIDDEN" 1
			"override projectile type" 8
		}
		
		"Single Barrel Shotgun" 
		{
			OriginalItemName "TF_WEAPON_SHOTGUN_PYRO"
			
			"special item description"  "Load 8 shells and fire faster at the cost of reduced damage and spread."
			"faster reload rate" 0.22
			"fire rate bonus" 0.66
			"receive friendly fire" 1
			"bullets per shot bonus" 0.8
			"clip size bonus" 1.34
			"spread penalty" 0.9
			"damage penalty" 0.8
		}
		
		"Double Barrel Shotgun" 
		{
			OriginalItemName "TF_WEAPON_SHOTGUN_SOLDIER"
			
			"special item description"  "Only able to load 6 shells, but fire more pellet and deal more damage."
			"slower reload rate" 0.66
			"fire rate penalty" 1.25
			"bullets per shot bonus" 2.34 // 14 pellets. what
			"spread penalty" 1.5
			"damage bonus" 2.5
		}
		
		"Double Barrel Shotgun_HV" 
		{
			OriginalItemName "TF_WEAPON_SHOTGUN_HWG"
			
			"special item description"  "Only able to load 6 shells, but fire more pellet and deal more damage."
			"slower reload rate" 0.66
			"fire rate penalty" 1.25
			"bullets per shot bonus" 2.34 // 14 pellets. what
			"spread penalty" 1.5
			"damage bonus" 2.5
		}
		
		"Double Barrel Shotgun_ENG" 
		{
			OriginalItemName "TF_WEAPON_SHOTGUN_PRIMARY"
			
			"special item description"  "Only able to load 6 shells, but fire more pellet and deal more damage."
			"slower reload rate" 0.66
			"fire rate penalty" 1.25
			"bullets per shot bonus" 2.34 // 14 pellets. what
			"spread penalty" 1.5
			"damage bonus" 2.5
		}
		

		"Overhealer" 
		{
			OriginalItemName "The Kritzkrieg"
			
			"special item description" "Overheal patients at a higher rate, but unable to uber."
			//"custom item model" "models/weapons/c_smodels/c_overhealer/c_overhealer.mdl"
			"custom item model" "models/weapons/c_models/c_proto_medigun/c_proto_medigun.mdl"
			
			"cannot be upgraded" 1
			"overheal expert" 4
			"uber duration bonus" 0.1
			"ubercharge rate penalty" 0.01
			"overheal decay bonus" 4
			"heal rate penalty" 0.5
			//"overheal decay disabled" 1
		}
		
		"Nailgun" 
		{
			OriginalItemName "The Shortstop"
			
			"special item description"  "Fires nails instead of bullets at faster rate."
			"custom item model" "models/weapons/w_models/w_nailgun.mdl"
			"custom projectile model" "models/weapons/w_models/w_nail.mdl"
			//"custom weapon fire sound" "Weapon_Overdose.Single"
			"custom weapon fire sound" "weapons/supernailgun_shoot.wav"
			
			"override projectile type" 5
			"clip size bonus" 10
			"fire rate bonus" 0.25
			"custom kill icon" "syringegun_medic"
			"maxammo primary increased" 6.25
		}
		
		"Coilgun" 
		{
			OriginalItemName "The C.A.P.P.E.R"
			
			"special item description"  "Fires a penetrating laser"
			"weapon spread bonus" 1.75
			"damage bonus" 4
			"Reload time decreased" 0.8
			"projectile penetration" 1
			//"explosive bullets" 100
			"fire rate penalty"    2
			"damage penalty" 0.85
		}
		"Ludmilla" 
		{
			OriginalItemName "Natascha"
			
			"special item description"  "Heal on hit instead of slowing target down."
			"heal on hit for rapidfire" 4
			"slow enemy on hit" 0
			"damage penalty" 0.85
		}
		"Afterburner" 
		{
			OriginalItemName "The Nostromo Napalmer"
			//"custom item model" "models/workshop/weapons/c_models/c_pilot_flamer/c_pilot_flamer"
			
			"special item description"  "Gain ammo on each successful airblast. Increased afterburn damage with higher ammo consumption."
			"airblast_destroy_projectile" 1
			"airblast_turn_projectile_to_ammo" 30
			"hidden primary max ammo bonus" 1.25
			"no primary ammo from dispensers while active" 1
			"damage penalty" 0.25
			"flame ammopersec increased" 2.5
			"weapon burn dmg increased" 2.5
			"afterburn duration bonus" 2
			"charged airblast" 1
			"airblast cost decreased" 0.2
		}
		"Assault Cannon" 
		{
			OriginalItemName "Tomislav"
			
			"special item description"  "Fires death ray that penetrates target at slower rate."
			"custom item model" "models\workshop\weapons\c_models\c_tokamak\c_tomislav.mdl"
			"minigun no spin sounds" 0
			"override projectile type" 13 // Pomson laser
			"damage bonus" 1.25
			"fire rate penalty" 1.5
			"weapon spread bonus" 0.6
			"projectile penetration" 1
			"projectile speed decreased" 0.75
		}
		
		"Precursor"
		{
			OriginalItemName "TF_WEAPON_GRENADELAUNCHER"
			"special item description" "GL fires grenade that still explodes even after a rebounce"
			
			"centerfire projectile" 1 
			"clip size bonus" 1.25 // holds 5
			"damage bonus" 1.25
			"Reload time increased" 0.8
			"grenade bounce speed" 0.7
			"grenade bounce damage" 1.25
			"hidden primary max ammo bonus	" 4
		}
		
		"PipeBomb Launcher" 
		{
			OriginalItemName "TF_WEAPON_PIPEBOMBLAUNCHER"
			
			"special item description"  "Fires pipebombs that rolls on the floor that could be manually detonated."
			//"custom projectile model" "models/weapons/w_models/w_grenade_pipebomb.mdl"
			"clip size penalty HIDDEN" 0.75
			"sticky arm time bonus" 2
			"stickybomb stick to enemies" 1
			"stickybomb no stick" 1
			"no damage falloff" 1
		}
		
		"H.E.C.U. RPG" 
		{
			OriginalItemName "The Original"
			"custom weapon fire sound" "rpg_sounds/rocketfire1.wav"
			
			"special item description"  "While only able to fire one arced rocket, it has an increased blast."
			"projectile gravity" 650
			"projectile speed increased" 1.5 
			"centerfire projectile" 0
			"clip size penalty" 0.25
			"damage bonus" 1.25
			"Blast radius increased" 1.75
			"Reload time increased"  1.2
			"fire rate penalty" 2
			"projectile trail particle" "rockettrail_airstrike_line"
			"custom kill icon" "liberty_launcher"
			
			//"mod projectile heat seek power" 90
			//"mod projectile heat aim error" 25
			//"mod projectile heat aim time" 0.25
		}
		
		"Mortar Launcher" 
		{
			OriginalItemName "The Air Strike"
			
			"special item description"  "Launched rocket follows crosshair until it hits a terminus."
			"custom item model" "models/workshop/weapons/c_models/c_liberty_launcher/c_liberty_launcher.mdl"
			
			"clipsize increase on kill" 6
			//"projectile gravity" 800
			"clip size bonus" 1.5
			"damage bonus" 1
			"Blast radius increased" 1.25
			"mini rockets" 0
			"rocketjump attackrate bonus" 0
			"Reload time increased" 2.5
			"fire rate bonus" 0.35
			"Projectile speed decreased" 0.65
			"projectile trail particle" "rockettrail_airstrike_line"
			
			"mod projectile heat follow crosshair" 1
			"mod projectile heat seek power" 360
			"mod projectile heat aim error" 180
			
			"projectile no deflect" 1
			"projectile acceleration start time" 1.5
			"dmg taken from self reduced" 0.35
		}
		
		"TranqGun" 
		{
			OriginalItemName "L'Etranger"
			
			"special item description"  "Fires slowing dart."
			
			"custom item model" "models/weapons/w_models/w_tranq.mdl"
			"custom weapon fire sound" "Weapon_SydneySleeper.Single"
			
			"provide on active" 1
			//"override projectile type" 5 // this makes this weapon even more garbage
			"ignored by bots" 1
			"Reload time increased" 0.2
			"fire rate penalty" 5
			"fire rate penalty HIDDEN" 0.5
			"clip size penalty HIDDEN" 0.1
			"revolver use hit locations" 1
			"slow enemy on hit major" 5 
			"apply look velocity on damage" 90
			"apply z velocity on damage" 100
			"add cloak on hit" -2
			"silent killer" 1
			"maxammo secondary reduced" 0.1
		}
		
		"Aperture Reprogrammer" 
		{
			OriginalItemName "The Ap-Sap"
			
			"special item description"  "Temporarily reprogram robots to fight for the RED team."
			
			"provide on active" 1
			//"override projectile type" 5 // this makes this weapon even more garbage
			"cannot be upgraded" 1
			"robo sapper" 1
			"sapper degenerates buildings" 1
			"sapper damage leaches health" 0.75
			"effect cond override" 43
			"sapper damage bonus" 0.5
			"mult effect duration" 3
			"charge recharge rate increased" 5
		}
		
		"Magnum Sniper Rifle" 
		{
			OriginalItemName "The AWPer Hand"
			
			"special item description"  "Unable to charge, but able to headshot without scoping in."
			
			"max health additive penalty" -25
			
			//"provide on active" 1
			"sniper no charge" 1
			
			"damage bonus" 2
			"clip size bonus" 10
			"headshot damage increase" 2
			"can headshot" 1
			"fire rate penalty" 2
			"sniper crit no scope" 1
			
			"no damage view flinch" 1
			"sniper no headshot without full charge" 0
			"slow enemy on hit major" 3
			"maxammo primary reduced" 0.8
			"projectile penetration" 1
			
			//"cannot be upgraded" 1 // You know what? I'll let you do whatever with this.
		}
		
		"Hunting Rifle" 
		{
			OriginalItemName "The Bazaar Bargain"
			
			"special item description"  "Able to consistently fire without scoping in"
			
			"max health additive bonus" 25
			"damage penalty on bodyshot" 0.75
			
			//"provide on active" 1
			"sniper no charge" 1
			
			"headshot damage increase" 2.5
			"can headshot" 1
			"fire rate bonus" 1.5
			"Reload time decreased" 0.5
			"sniper crit no scope" 1
			"sniper no headshot without full charge" 0
			"zoom speed mod disabled" 1
			"sniper zoom penalty" 0.25

			"maxammo primary increased" 1.5
		}
		"Walkabout" 
		{
			OriginalItemName "TF_WEAPON_SNIPERRIFLE"
			
			"special item description"  "Increased charge rate on kill, but unable to headshot."
			
			//"provide on active" 1
			"sniper no charge" 1
			"SRifle Charge rate increased" 1.4
			"can headshot" 0
			"zoom speed mod disabled" 1
			"mult sniper charge per sec with enemy under crosshair" 1.2
			"sniper zoom penalty" 0.25
			"sniper beep with enemy under crosshair" 1
			"maxammo primary increased" 1.5
		}
		"Classic Rifle" 
		{
			OriginalItemName "The Classic"
			
			"special item description"  "Headshot does not require full charge. Do less damage, but slows target down on bodyshot."
			
			"custom item model" "models/weapons/c_models/c_tfc_sniperrifle/c_tfc_sniperrifle.mdl"
			
			"provide on active" 1
			"fire rate penalty" 2
			"no damage view flinch" 1
			"crit kill will gib" 1
			"damage penalty on bodyshot" 0.5
			"sniper no headshot without full charge" 0
			"slow enemy on hit major" 3
			"maxammo primary increased" 3
			//"cannot be upgraded" 1 // You know what? I'll let you do whatever with this.
		}
		"Assault Rifle" 
		{
			OriginalItemName "TF_WEAPON_SMG"
			
			"special item description"  "AR is able to fire constant semi-accurate shots with no fall-off."
			
			"custom item model" "models/weapons/c_models/c_tfc_sniperrifle/c_tfc_sniperrifle.mdl"
			
			"provide on active" 1
			"can headshot" 1
			"fire rate bonus" 0.5
			"damage penalty" 0.8
			"clip size bonus" 2.9
			"no damage falloff" 1
			"weapon spread bonus"	1.25
			"slow enemy on hit major" 1 // tagged mechanic
			"maxammo secondary increased" 4
		}
	}

	ExtraLoadoutItems 
	{
		AllowEquipOutsideSpawn 1
		Scout
		{
			Primary
			{
				Item "Nailgun"
			}
			Primary
			{
				Item "Semi-Auto QS-Shotgun"
			}
			Melee
			{
				Item "Catcher's Mitt"
			}
			AllowRefund 1
		}
		
		Soldier
		{
			Primary
			{
				Item "H.E.C.U. RPG" 
			}
			Primary
			{
				Item "Mortar Launcher"
			}
			Secondary
			{
				Item "Double Barrel Shotgun"
			}
			AllowRefund 1
		}
		
		Pyro
		{
			Primary
			{
				Item "Afterburner"
			}
			Secondary
			{
				Item "Incendiary Cannon"
			}
			Secondary
			{
				Item "Single Barrel Shotgun"
			}
			AllowRefund 1
		}
		
		Demoman
		{
			Primary 
			{
				Item "Precursor"
			}
			Secondary
			{
				Item "PipeBomb Launcher"
			}
			AllowRefund 1
		}
		
		Heavyweapons
		{
			Primary
			{
				Item "Ludmilla"
			}
			Primary
			{
				Item "Assault Cannon"
			}
			Secondary
			{
				Item "Double Barrel Shotgun_HV" 
			}
			AllowRefund 1
		}
		
		Engineer
		{
			Primary
			{
				Item "Double Barrel Shotgun_ENG" 
			}
			Secondary
			{
				Item "Coilgun" 
			}
			AllowRefund 1
		}
		
		Medic
		{
			Primary
			{
				Item "Shotgun"
			}
			Primary
			{
				Item "Super SMG"
			}
			Secondary
			{
				Item "Overhealer"
			}
			AllowRefund 1
		}
		
		Sniper
		{
			Primary
			{
				Item "Classic Rifle"
			}
			Primary
			{
				Item "Magnum Sniper Rifle" 
			}
			Primary
			{
				Item "Hunting Rifle" 
			}
			Primary
			{
				Item "Walkabout" 
			}
			Secondary
			{
				Item "Assault Rifle"
			}
			AllowRefund 1
		}
		
		Spy
		{
			Secondary
			{
				Item "TranqGun"
			}
			Building
			{
				Item "Aperture Reprogrammer"
			}
			AllowRefund 1
		}
	}

//
// Support Missions
//
// RobotType; Buster

	Mission
	{
		Where spawnbot
		Where spawnbot_side
		Objective DestroySentries
		InitialCooldown	25
		CooldownTime 60
		DesiredCount	1
		BeginAtWave 1
		RunForThisManyWaves 5
		TFBot
		{
			Template	T_TFBot_SentrybusterMod
			Name	"Sentry Buster Mk. II"
		}
	}
// RobotType; Sniper
	Mission
	{
		Where sniperleft
		Where sniperright
		Objective Sniper
		InitialCooldown 25
		CooldownTime 45
		DesiredCount	1
		BeginAtWave 2
		RunForThisManyWaves 5
		TFBot
		{
			Template	T_TFBot_Sniper_Classic // If you have never tried my missions before, this basically fires regardless of whether they are scoped in or not on a hidden interval. Their range is sorta garbage though.
			ClassIcon "sniper_classic_sif"
			MaxVisionRange 3000
			Name	"Classic Sniper"
		}
	}
// RobotType; Spy w1
	Mission
	{
		Where
		{
			Relative Behind 
			MaxDistance 300
			MinDistance 10
		}
		Objective Spy
		InitialCooldown 20
		CooldownTime 50
		DesiredCount	3
		BeginAtWave 3
		RunForThisManyWaves 2
		TFBot
		{
			Template	T_TFBot_Spy_Tranq
			Attributes Aggressive
			Attributes IgnoreFlag
			ClassIcon "spy_bigkill_sif"
		}
	}	

	Wave // Wave 1
	{
		//Sound "Announcer.IncomingMob" 	// Play sound "mvm_general_wav_start.wav"
		//Sound "Announcer.MVM_General_Wave_Start" 
		//Sound "Announcer.MVM_First_Wave_Start"
		Sound "Announcer.MVM_Manned_Up"
		//Sound "Announcer.MVM_Wave_Start"
		//Sound "Announcer.mvm_another_bomb"
		
		StartWaveOutput	// Tell the game we are ready. Change "mp_tournamentmode" to 0
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput					
		{
			Target wave_finished_relay
			Action trigger
		}	
			WaitWhenDone 5
			
		//Explanation 
		//{
		//	Line "{yellow} SiF{white}: this is not supposed to appear in the chat. but hi owo"
		//}	
		
		// Subwave A-1 -$ -- 
		// // // // // // // // // //
		// 
		// 
		WaveSpawn // Spawned just to push the bomb.
		{
			Name "wave_1a_connecting"
			Where spawnbot
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 0
			TotalCurrency 9 // 770 left
		
			//StartWaveMessage "{yellow}VOX {FFFFFF}joined the game"
			FirstSpawnMessage "{yellow}VOX {FFFFFF}: Defend. our. Objective."
		
			TFBot
			{
				Template T_TFBot_Scout_Crowbar_Bhop
				ClassIcon "crowbar_lite"
				Health 100
			}	
		}	// Wave_1a_opening is done.
		WaveSpawn // Target Spawn check
		{
			Name "target1a"
			Where "ctspawn"
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 10
			WaitBetweenSpawns 10
			TotalCurrency 0
			//FirstSpawnWarningSound "mvm/mvm_tele_deliver.wav"
			HideIcon 1
			
			Support Limited
		
			//FirstSpawnMessage "{yellow}VOX {FFFFFF}was automatically assigned to team MANNCO"
		
			TFBot
			{
				Template T_TFBot_Heavy_BareFist
				Attributes MiniBoss
				Attributes IgnoreEnemies
				Attributes IgnoreFlag
				Attributes SuppressFire
				Name "Red's Hatch Flag!"
				Item "The Scariest Mask EVER"
				Scale 0.3
				Health 5
				CharacterAttributes
				{
					"increased jump height" 0.1
					"move speed penalty"	0.1
				}
				AddCond  
				{
					Name "TF_COND_REPROGRAMMED"
					Delay 0
				}
			}	
		}	// Spawned target in spawn
		WaveSpawn // Spawn supports after w_1a. If this is killed, spawn support 1b. Spawn worse bots later.
		{
			Name "target1b"
			Where "hatch"
			WaitForAllDead "target1a"
			
			TotalCount 2
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			TotalCurrency 0
			//FirstSpawnWarningSound "mvm/mvm_tele_deliver.wav"
			//HideIcon 1
			
			Support Limited
		
			FirstSpawnMessage "{yellow}VOX{FFFFFF}: Alert! The robots are nearing our hatch."
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Heavy_IronCurtain
					Name "Reb Protocopy"
					Skill Expert
					Health 600
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Heavy_Natascha
					Name "Reb Protocopy"
					Skill Expert
					Health 600
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Pyro_DragonFury
					Name "Reb Protocopy"
					Health 325
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Heavy_Brass
					Name "Reb Protocopy"
					Skill Expert
					Health 600
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
			}
		}	// Scripted Reinforcement #1
		WaveSpawn // Spawn supports after w_1a. If this is killed, spawn support 1b. Spawn worse bots later.
		{
			Name "target1c"
			Where "hatch"
			WaitForAllDead "target1b"
			
			TotalCount 2
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 20
			WaitBetweenSpawns 20
			TotalCurrency 0
			//FirstSpawnWarningSound "mvm/mvm_tele_deliver.wav"
			//HideIcon 1
			
			Support Limited
		
			//FirstSpawnMessage "{yellow}VOX{FFFFFF}: The robots are about to deploy!"
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Heavy_Brass
					Name "Reb Protocopy"
					Skill Expert
					Health 375
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Heavy_Tomislav
					Name "Reb Protocopy"
					Skill Expert
					Health 600
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Pyro_Phlogistinator
					Name "Reb Protocopy"
					Skill Expert
					Health 350
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Heavy_Ludmilla
					Name "Reb Protocopy"
					Skill Expert
					Health 600
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
			}
		}	// Scripted Reinforcement #2
		WaveSpawn // Spawn supports after w_1a. If this is killed, spawn support 1b. Spawn worse bots later.
		{
			Name "target1d"
			Where "hatch"
			WaitForAllDead "target1c"
			
			TotalCount 99
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 25
			WaitBetweenSpawns 30
			TotalCurrency 0
			//FirstSpawnWarningSound "mvm/mvm_tele_deliver.wav"
			//HideIcon 1
			
			Support Limited
		
			//FirstSpawnMessage "{yellow}VOX{FFFFFF}: Red Team, protect our objective!"
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Pyro_DragonFury
					Name "Furry Protocopy"
					Skill Expert
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Pyro_Airblast_Spam
					Name "Reb Protocopy"
					Skill Expert
					Health 600
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Pyro_Gas_Explosive
					Name "Reb Protocopy"
					Skill Expert
					Health 350
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Pyro_Gas_Afterburn
					Name "Reb Protocopy"
					Skill Expert
					Health 600
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
			}
		}	// Scripted Reinforcement #3
		
		WaveSpawn // Crowbar scouts (Hard)
		{
			Name "wave1a"
			Where spawnbot
			TotalCount 99
			MaxActive 16
			SpawnCount 8
			WaitBeforeStarting 2
			WaitBetweenSpawns 5
			TotalCurrency 130 // 700$ left
		
			TFBot
			{
				Template T_TFBot_Scout_Crowbar
				ClassIcon "crowbar_lite"
			}	
		} // wave_1a
		WaveSpawn // Nailgun Scouts
		{
			Name "wave1b"
			Where spawnbot_side
			TotalCount 25
			MaxActive 8
			SpawnCount 3
			WaitBeforeStarting 6
			WaitBetweenSpawns 5
			TotalCurrency 120
			
			//FirstSpawnMessage "{yellow}VOX {FFFFFF}was automatically assigned to team MANNCO"
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Scout_Nailgun
					Skill Normal
					ClassIcon "scout_nailgun_lite"
				}	
				TFBot
				{
					Template T_TFBot_Scout_Nailgun
					Skill Hard
					ClassIcon "scout_nailgun_lite"
				}
			}	
		} // 
		WaveSpawn // RPG Soldiers
		{
			Name "wave1c"
			WaitForAllSpawned "wave1b"
			Where spawnbot
			TotalCount 2
			MaxActive 2
			SpawnCount 2
			WaitBeforeStarting 0
			WaitBetweenSpawns 10
			TotalCurrency 200 // 500$ left
		
			Squad
			{
				TFBot
				{
					Template T_TFBot_Soldier_RPG	
					Name "Giant RPG Soldier"
					Skill Expert
					Health 4000
					Scale 1.7
					Attributes AlwaysCrit
					Attributes MiniBoss
				
					ClassIcon "soldier_crit"
					CharacterAttributes
					{
						"move speed bonus"	0.5
						"damage force reduction" 0.4
						"airblast vulnerability multiplier" 0.2
						"override footstep sound set" 3
						"cannot be sapped" 1
					}
					Tag bot_giant
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickFix
				}
			}	
		} // wave_1b
		WaveSpawn // Subwave 3, pyro flare + pyro flame
		{
			Name "wave1d"
			WaitForAllDead "wave1b"
			Where spawnbot_side
			Where spawnbot
			RandomSpawn 1
			
			TotalCount 20
			MaxActive 7
			SpawnCount 5
			WaitBeforeStarting 3
			WaitBetweenSpawns 2
			
			TotalCurrency 60 // 340$ left

			TFBot
			{
				Template T_TFBot_Pyro_IncendCannon
				ClassIcon "pyro_rocketflare"
			}
		} // wave_1b
		WaveSpawn // Subwave 3, pyro flare + pyro flame
		{
			Name "wave1e"
			WaitForAllDead "wave1b"
			Where spawnbot_side
			Where spawnbot
			RandomSpawn 1
			
			TotalCount 30
			MaxActive 12
			SpawnCount 5
			WaitBeforeStarting 3
			WaitBetweenSpawns 2
			
			TotalCurrency 60 //
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Soldier_Shotgun_Single
					ClassIcon "shotgun_lite"
				}
				TFBot
				{
					Template T_TFBot_Pyro_Shotgun_Single
					ClassIcon "shotgun_lite"
				}
				TFBot
				{
					Template T_TFBot_Heavyweapons_Shotgun_Single
					ClassIcon "shotgun_lite"
				}
			}
		} // wave_1b
		WaveSpawn // Spawn supports after w_1a. If this is killed, spawn support 1b. Spawn worse bots later.
		{
			Name "protogenbots-w1a"
			Where "protocopyred"
			WaitForAllDead "wave1c"
			
			TotalCount 2
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 45
			TotalCurrency 0
			FirstSpawnWarningSound "mvm/mvm_tele_deliver.wav"
			//HideIcon 1
			
			Support Limited
		
			//FirstSpawnMessage "{yellow}VOX{FFFFFF}: Spawned supports"
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Name "Protocopy"
					Health 300
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Overheal4
					Name "Protocopy"
					Health 250
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Shield
					Name "Protocopy"
					Health 250
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Kritzkrieg
					Name "Protocopy"
					Health 300
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
			}
		}	// Scripted Reinforcement #1

		WaveSpawn
		{
			Name "wave1f"
			WaitForAllSpawned "wave1e"
			Where "sniperaggroleft"
			Where "sniperaggroright"
			RandomSpawn 1
			
			TotalCount 25
			MaxActive 8
			SpawnCount 2
			WaitBeforeStarting 2
			WaitBetweenSpawns 3
			TotalCurrency 120 //
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Scout_Nailgun
					Skill Normal
					ClassIcon "scout_nailgun_lite"
				}	
				TFBot
				{
					Template T_TFBot_Heavyweapons_Shotgun_Single
					ClassIcon "shotgun_lite"
				}
			}	
		}
		WaveSpawn
		{
			Name "wave1g"
			WaitForAllSpawned "wave1e"
			Where "sniperaggroleft"
			Where "sniperaggroright"
			RandomSpawn 1
			
			TotalCount 30
			MaxActive 10
			SpawnCount 2
			WaitBeforeStarting 5
			WaitBetweenSpawns 3
			TotalCurrency 60 // 120$ left
			
			Squad
			{
				TFBot
				{
					Template T_TFBot_Pyro_Maul
					ClassIcon "pyro_maul_sif"
				}	
				TFBot
				{
					Template T_TFBot_Medic_QuickFix
				}
			}	
		}// spawn
		WaveSpawn
		{
			Name "wave1h"
			WaitForAllSpawned "wave1e"
			Where "spawnbot"
			RandomSpawn 1
			
			TotalCount 6
			MaxActive 3
			SpawnCount 3
			WaitBeforeStarting 7
			WaitBetweenSpawns 8
			TotalCurrency 120 // 0$ left
			
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Soldier_Spammer
				}	
				TFBot
				{
					Template T_TFBot_Medic_QuickFix
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickFix
				}
			}	
		}// spawn
	}
	
	Wave // Wave 2
	{
		//Sound "Announcer.IncomingMob" 	// Play sound "mvm_general_wav_start.wav"
		Sound "Announcer.MVM_General_Wave_Start" 
		//Sound "Announcer.MVM_First_Wave_Start"
		//Sound "Announcer.MVM_Manned_Up"
		//Sound "Announcer.MVM_Wave_Start"
		//Sound "Announcer.mvm_another_bomb"
		
		StartWaveOutput	// Tell the game we are ready. Change "mp_tournamentmode" to 0
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput					
		{
			Target wave_finished_relay
			Action trigger
		}	
			WaitWhenDone 5
			
		
		WaveSpawn // Spawned just to push the bomb.
		{
			Name "wave2a"
			Where spawnbot
			TotalCount 25
			MaxActive 8
			SpawnCount 4
			WaitBeforeStarting 10
			WaitBetweenSpawns 9
			TotalCurrency 50 // 675 left
		
			//StartWaveMessage "{yellow}VOX {FFFFFF}joined the game"
			//FirstSpawnMessage "{yellow}VOX {FFFFFF}The next wave has begun. Protect our objective."
		
			TFBot
			{
				Template T_TFBot_Soldier_RPG
				ClassIcon "soldier_crit"
			}	
		}
		WaveSpawn // 
		{
			Name "protogenbots-w1a"
			Where "protocopyred"
			
			TotalCount 99
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 15
			WaitBetweenSpawns 30
			TotalCurrency 0
			FirstSpawnWarningSound "mvm/mvm_tele_deliver.wav"
			//HideIcon 1
			
			Support Limited
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Name "Protocopy"
					Health 300
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Overheal4
					Name "Protocopy"
					Health 250
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Shield
					Name "Protocopy"
					Health 250
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
		
				TFBot
				{
					Template T_TFBot_Medic_Kritzkrieg
					Name "Protocopy"
					Health 300
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
			}		
		}
		WaveSpawn // Target Spawn check
		{
			Name "target2a"
			Where "ctspawn"
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 15
			WaitBetweenSpawns 10
			TotalCurrency 0
			//FirstSpawnWarningSound "mvm/mvm_tele_deliver.wav"
			HideIcon 1
			
			Support Limited
		
			TFBot
			{
				Template T_TFBot_Heavy_BareFist
				Attributes MiniBoss
				Attributes IgnoreEnemies
				Attributes IgnoreFlag
				Attributes SuppressFire
				Name "Red's Hatch Flag!"
				Item "The Scariest Mask EVER"
				Scale 0.3
				Health 5
				CharacterAttributes
				{
					"increased jump height" 0.1
					"move speed penalty"	0.1
				}
				AddCond  
				{
					Name "TF_COND_REPROGRAMMED"
					Delay 0
				}
			}	
		}	// Spawned target in spawn
		WaveSpawn // Spawn supports after w_1a. If this is killed, spawn support 1b. Spawn worse bots later.
		{
			Name "target2b"
			Where "hatch"
			WaitForAllDead "target2a"
			
			TotalCount 6
			MaxActive 2
			SpawnCount 2
			WaitBeforeStarting 0
			WaitBetweenSpawns 45
			TotalCurrency 0
			//FirstSpawnWarningSound "mvm/mvm_tele_deliver.wav"
			//HideIcon 1
			
			Support Limited
		
			FirstSpawnMessage "{yellow}VOX{FFFFFF}: Attention. Heavy artilleries are heading towards our hatch."
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Heavy_Ludmilla
					Name "Reb Protocopy"
					Skill Expert
					Attributes AlwaysFireWeapon
					Health 250
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Heavy_Natascha
					Name "Reb Protocopy"
					Skill Expert
					Health 600
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Pyro_DragonFury
					Name "Reb Protocopy"
					Health 325
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Heavy_Brass
					Name "Reb Protocopy"
					Skill Expert
					Health 600
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
			}
		}	// Scripted Reinforcement #1

		WaveSpawn 
		{
			Name "wave2b"
			Where spawnbot
			Where "sniperaggroleft"
			Where "sniperaggroright"
			TotalCount 25
			MaxActive 6
			SpawnCount 3
			WaitBeforeStarting 2
			WaitBetweenSpawns 7
			TotalCurrency 50 // 640 left
		
			TFBot
			{
				Template T_TFBot_Demoman_GrenSingle
				ClassIcon "demo_single"
			}	
		}
		
		WaveSpawn 
		{
			Name "wave2c"
			Where spawnbot
			TotalCount 8
			MaxActive 4
			SpawnCount 4
			WaitBeforeStarting 8
			WaitBetweenSpawns 8
			TotalCurrency 100 // 640 left
		
			//StartWaveMessage "{yellow}VOX {FFFFFF}joined the game"
			//FirstSpawnMessage "{yellow}VOX {FFFFFF}The next wave has begun. Protect our Objective."
		
			Squad
			{
				TFBot
				{
					Template T_TFBot_Sniper_AssaultRifle
					Name "Giant AR Sniper"
					Skill Expert
					Scale 1.75
					Health 2500
					Attributes MiniBoss
				
					ClassIcon "sniper_smg_sif"
					CharacterAttributes
					{
						"move speed bonus"	0.5
						"damage force reduction" 0.4
						"airblast vulnerability multiplier" 0.2
						"override footstep sound set" 3
						"head scale" 1.5
						"cannot be sapped" 1
					}
					ItemAttributes
					{
						ItemName "TF_WEAPON_SMG"
						"is_passive_weapon" 1
						"fire rate bonus" 0.5
						"damage penalty" 0.25
						"clip size bonus" 2.9
						"no damage falloff" 1
						"weapon spread bonus"	1.25
						//"slow enemy on hit major" 1 // tag mechanic is too annoying
					}
					ItemAttributes
					{
						ItemName "The Classic"
						"sniper crit no scope" 1
						"sniper no headshot without full charge" 0
						"sniper no headshots" 0
					}
					Tag bot_giant
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
				}
			}	
		}
		
		WaveSpawn
		{
			Name	"wave2tank"
			WaitForAllDead "wave2c"
			TotalCurrency	125 // 440 left
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting	10
			WaitBetweenSpawns	0
			FirstSpawnWarningSound "mvm/mvm_tank_ping.wav"
			Tank
			{
				Health	1500
				Name	"tankboss"
				Speed	100
				DisableSmokestack 1
				MaxTurnRate 40
				Scale 0.1
				IsMiniBoss 0
				StartingPathTrackNode	"tank_path_b" // right
				
				OnKilledOutput                                  
				{
					Target boss_dead_relay
					Action Trigger                         
				}
				
				OnBombDroppedOutput
				{
					Target	boss_deploy_relay
					Action	Trigger
				}
			}
		}
		WaveSpawn
		{
			Name	"wave2tan2"
			WaitForAllDead "wave2c"
			TotalCurrency	135 // 440 left
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting	10
			WaitBetweenSpawns	0
			
			FirstSpawnMessage "{yellow}VOX{FFFFFF}: Attention, explosive-riddled RCs have entered the area."
			Tank
			{
				Health	2000
				Name	"tankboss"
				Speed	90
				DisableSmokestack 1
				MaxTurnRate 40
				Scale 0.1
				IsMiniBoss 0
				StartingPathTrackNode	"tank_path_a" // lefft
				
				OnKilledOutput                                  
				{
					Target boss_dead_relay
					Action Trigger                         
				}
				
				OnBombDroppedOutput
				{
					Target	boss_deploy_relay
					Action	Trigger
				}
			}
		}

		WaveSpawn 
		{
			Name "wave2e"
			WaitForAllDead "wave2c"
			Where spawnbot_side
			TotalCount 40
			MaxActive 12
			SpawnCount 8
			WaitBeforeStarting 8
			WaitBetweenSpawns 3
			TotalCurrency 40 // 400 left
		
			Squad
			{
				TFBot
				{
					Template T_TFBot_Sniper_Huntsman
					Name "Overhealed Bowmen"
				}
				TFBot
				{
					Template T_TFBot_Medic_Overheal2
					ClassIcon "medic_overheal_sif"
				}
			}	
		}
		WaveSpawn 
		{
			Name "wave2f"
			WaitForAllDead "wave2c"
			Where spawnbot
			TotalCount 10
			MaxActive 4
			SpawnCount 1
			WaitBeforeStarting 6
			WaitBetweenSpawns 6
			TotalCurrency 40 // 360 left
		
			TFBot
			{
				Template T_TFBot_Heavyweapons_Fist
				Name "Fist of Steel Heavy"
			}	
		}
		WaveSpawn 
		{
			Name "wave2g"
			WaitForAllDead "wave2e"
			Where spawnbot
			TotalCount 6
			MaxActive 3
			SpawnCount 3
			WaitBeforeStarting 4
			WaitBetweenSpawns 5
			TotalCurrency 200 // 160 left
			
			Squad
			{
			
				TFBot
				{
					Template T_TFBot_Pyro_FlameGun 
					Name "Giant Flamegun Pyro"
					ClassIcon pyro_giant
					Skill Expert
					Scale 1.75
					Health 3500
					WeaponRestrictions PrimaryOnly
					Attributes MiniBoss
					Attributes AlwaysCrit
					CharacterAttributes
					{
						"move speed bonus"	0.5
						"damage force reduction" 0.6
						"airblast vulnerability multiplier" 0.25
						"override footstep sound set" 6
						"cannot be sapped" 1
					}
					Tag bot_giant
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
				}
			}	
		}
		
		WaveSpawn 
		{
			Name "wave2h"
			WaitForAllDead "wave2e"
			Where spawnbot
			Where combine1
			TotalCount 40
			MaxActive 12
			SpawnCount 4
			WaitBeforeStarting 5
			WaitBetweenSpawns 5
			TotalCurrency 160 //
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Pyro_JetpackDF
				}
				TFBot
				{
					Template T_TFBot_Pyro_Backburner
					MoveBehindEnemy 1
				}
			}
		}	
	}
	
	Wave // Wave 3
	{
		//Sound "Announcer.IncomingMob" 	// Play sound "mvm_general_wav_start.wav"
		//Sound "Announcer.MVM_General_Wave_Start" 
		//Sound "Announcer.MVM_First_Wave_Start"
		//Sound "Announcer.MVM_Manned_Up"
		Sound "Announcer.MVM_Wave_Start"
		//Sound "Announcer.mvm_another_bomb"
		
		StartWaveOutput	// Tell the game we are ready. Change "mp_tournamentmode" to 0
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput					
		{
			Target wave_finished_relay
			Action trigger
		}	
			WaitWhenDone 5
		WaveSpawn // Target Spawn check
		{
			Name "target2a"
			Where "ctspawn"
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 15
			WaitBetweenSpawns 10
			TotalCurrency 0
			//FirstSpawnWarningSound "mvm/mvm_tele_deliver.wav"
			HideIcon 1
			
			Support Limited
		
			TFBot
			{
				Template T_TFBot_Heavy_BareFist
				Attributes MiniBoss
				Attributes IgnoreEnemies
				Attributes IgnoreFlag
				Attributes SuppressFire
				Name "Red's Hatch Flag!"
				Item "The Scariest Mask EVER"
				Scale 0.3
				Health 5
				CharacterAttributes
				{
					"increased jump height" 0.1
					"move speed penalty"	0.1
				}
				AddCond  
				{
					Name "TF_COND_REPROGRAMMED"
					Delay 0
				}
			}	
		}	// Spawned target in spawn
		WaveSpawn // Spawn supports after w_1a. If this is killed, spawn support 1b. Spawn worse bots later.
		{
			Name "target2b"
			Where "hatch"
			WaitForAllDead "target2a"
			
			TotalCount 6
			MaxActive 2
			SpawnCount 2
			WaitBeforeStarting 0
			WaitBetweenSpawns 45
			TotalCurrency 0
			//FirstSpawnWarningSound "mvm/mvm_tele_deliver.wav"
			//HideIcon 1
			
			Support Limited
		
			FirstSpawnMessage "{yellow}VOX{FFFFFF}: Attention. Heavy artilleries are heading towards our hatch."
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Heavy_Ludmilla
					Name "Reb Protocopy"
					Skill Expert
					Attributes AlwaysFireWeapon
					Health 250
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Heavy_Natascha
					Name "Reb Protocopy"
					Skill Expert
					Health 600
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Pyro_DragonFury
					Name "Reb Protocopy"
					Health 325
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Heavy_Brass
					Name "Reb Protocopy"
					Skill Expert
					Health 600
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
			}
		}	// Scripted Reinforcement #1
		WaveSpawn // 
		{
			Name "protogenbots-w1a"
			Where "protocopyred"
			
			TotalCount 99
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 15
			WaitBetweenSpawns 30
			TotalCurrency 0
			FirstSpawnWarningSound "mvm/mvm_tele_deliver.wav"
			//HideIcon 1
			
			Support Limited
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Name "Protocopy"
					Health 300
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Overheal4
					Name "Protocopy"
					Health 250
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Shield
					Name "Protocopy"
					Health 250
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Kritzkrieg
					Name "Protocopy"
					Health 300
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
			}
		}
		WaveSpawn // Spawned just to push the bomb.
		{
			Name "wave3a"
			Where spawnbot
			Where "sniperaggroleft"
			Where "sniperaggroright"
			TotalCount 30
			MaxActive 4
			SpawnCount 2
			RandomSpawn 1
			
			WaitBeforeStarting 20
			WaitBetweenSpawns 8
			TotalCurrency 20 // 750 left
		
			FirstSpawnMessage "{yellow}VOX {FFFFFF}: Begin Defending."
		
			Squad
			{
				ShouldPreserveSquad 1
		
				TFBot
				{
					Template T_TFBot_Medic_Ubersaw
					ClassIcon "medic_jug_ubersaw"
					Tag bot_squad_leader
				}		
				
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Name "Fading Uber Medic"
					Tag bot_squad_member
					CharacterAttributes
					{
						"heal rate bonus" 0.1
						"bot medic uber health threshold" 400
					}
				}	
			}
		}
		WaveSpawn
		{
			Name "wave3b"
			Where spawnbot
			Where spawnbot_side
			TotalCount 22
			MaxActive 4
			SpawnCount 2
			RandomSpawn 1
			
			WaitBeforeStarting 2
			WaitBetweenSpawns 8
			TotalCurrency 30 // 700 left
			Squad
			{
				ShouldPreserveSquad 1
		
				TFBot
				{
					Template T_TFBot_Medic_Ubersaw
					ClassIcon "medic_jug_ubersaw"
					Tag bot_squad_leader
					Attributes Aggressive
				}		
				
				TFBot
				{
					Template T_TFBot_Medic_Overheal2
					Name "Overheal Medic"
					ClassIcon "medic_overheal_sif"
					Tag bot_squad_members
				}	
			}
		}
		WaveSpawn
		{
			Name "wave3c"
			WaitForAllSpawned "wave3b"
			Where spawnbot
			TotalCount 2
			MaxActive 2
			SpawnCount 1
			
			WaitBeforeStarting 1
			WaitBetweenSpawns 8
			TotalCurrency 40 // 660 left	

			TFBot
			{
				Template T_TFBot_Soldier_Bazooka
				ClassIcon soldier_bazooka
				Name "Giant Burst Bazooka Soldier"
				Health 4000
				Scale 1.75
				DropWeapon 1
				ItemAttributes
				{
					ItemName "The Beggar's Bazooka"
					"can overload" 0
					"faster reload rate" 0.25
					"no primary ammo from dispensers while active" 0
				}	
				CharacterAttributes
				{
					"move speed bonus"	0.5
					"damage force reduction" 0.4
					"airblast vulnerability multiplier" 0.25
					"override footstep sound set" 3
					"Projectile speed increased" 0.9
				}
				Tag bot_giant
			}
		}
		WaveSpawn
		{
			Name "wave3d"
			WaitForAllDead "wave3c"
			Where spawnbot
			TotalCount 2
			MaxActive 1
			SpawnCount 2
			
			WaitBeforeStarting 15
			WaitBetweenSpawns 0
			TotalCurrency 40 // 620 left	

			TFBot
			{
				Template T_TFBot_Soldier_Bazooka // This is technically burstfire
				ClassIcon soldier_bazooka
				Name "Giant Charged Bazooka Soldier"
				Health 4000
				Scale 1.75
				Attributes MiniBoss
				Attributes AlwaysCrit
				Attributes HoldFireUntilFullReload
				DropWeapon 1
				ItemAttributes
				{
					ItemName "The Beggar's Bazooka"
					"can overload" 0
					"faster reload rate" 0.5
					"fire rate bonus" 0.1
					"clip size upgrade atomic" 7
					"no primary ammo from dispensers while active" 0
				}	
				CharacterAttributes
				{
					"move speed bonus"	0.5
					"damage force reduction" 0.4
					"airblast vulnerability multiplier" 0.25
					"override footstep sound set" 3
					"Projectile speed increased" 0.9
					"cannot be sapped" 1
				}
				Tag bot_giant
			}
		}
		WaveSpawn
		{
			Name "wave3f"
			//WaitForAllDead "wave3b"
			Where spawnbot
			TotalCount 30
			MaxActive 8
			SpawnCount 4
			
			WaitBeforeStarting 4
			WaitBetweenSpawns 3
			TotalCurrency 37 // 597 left	

			TFBot
			{
				Template T_TFBot_Heavy_WarriorSpirit
				Attributes Aggressive
				ClassIcon heavy_warrior_sif
			}
		}
		WaveSpawn
		{
			Name "wave3f"
			WaitForAllDead "wave3e"
			Where spawnbot
			TotalCount 8
			MaxActive 4
			SpawnCount 4
			
			WaitBeforeStarting 4
			WaitBetweenSpawns 0
			TotalCurrency 172 // 620 left	

			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Heavyweapons_BrassBeast
					//Attributes AlwaysCrit
					ClassIcon heavy_brass
					DropWeapon 1
				}
				TFBot
				{
					Template T_TFBot_Giant_Medic
					//Name "Giant Uber Medic"
					//ClassIcon medic_uber_giant
					//Item "TF_WEAPON_MEDIGUN"
					//DropWeapon 1
					//ItemAttributes
					//{
					//	ItemName "TF_WEAPON_MEDIGUN"
					//	"ubercharge rate bonus" 10
					//	"uber duration bonus" -4
					//}
					CharacterAttributes
					{
						"heal rate bonus" 0.1
						//"bot medic uber health threshold" 3000
					}
				}
				TFBot
				{
					Template T_TFBot_Soldier_Concheror_Support
					ClassIcon soldier_conch_only
				}
				TFBot
				{
					Template T_TFBot_Soldier_Concheror_Support
					ClassIcon soldier_conch_only
				}
			}
		}
		WaveSpawn
		{
			Name "wave3g"
			Where spawnbot
			WaitForAllSpawned "wave3f"
			TotalCount 64
			MaxActive 16
			SpawnCount 4
			
			WaitBeforeStarting 4
			WaitBetweenSpawns 6
			TotalCurrency 64 // 597 left	

			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Heavy_IronCurtain
				}
				TFBot
				{
					Class HeavyWeapons
					Skill Normal
					Name "Minigun Heavy"
				}
				TFBot
				{
					Template T_TFBot_Heavy_Tomislav
					ClassIcon heavy_accurate_lite
				}
				TFBot
				{
					Template T_TFBot_Medic_Overheal2
					ClassIcon medic_overheal_sif
				}
			}
		}
		WaveSpawn
		{
			Name "wave3h"
			Where spawnbot
			WaitForAllSpawned "wave3g"
			TotalCount 2
			MaxActive 1
			SpawnCount 1
			
			WaitBeforeStarting 4
			WaitBetweenSpawns 15
			TotalCurrency 172 // 597 left	

			TFBot
			{
				Template T_TFBot_Scout_Nailgun
				Name "Super Nailgun Scout"
				ClassIcon scout_nailgun_lite
				Skill Expert
				Health 1250
				WeaponRestrictions PrimaryOnly
				Scale 1.6
				Attributes MiniBoss
				CharacterAttributes
				{
					"damage force reduction" 0.7
					"airblast vulnerability multiplier" 0.45
					"override footstep sound set" 5
				}
			}
		}
		
	}	
	Wave // Wave 4
	{
		Sound "Announcer.IncomingMob" 	// Play sound "mvm_general_wav_start.wav"
		//Sound "Announcer.MVM_General_Wave_Start" 
		//Sound "Announcer.MVM_First_Wave_Start"
		//Sound "Announcer.MVM_Manned_Up"
		//Sound "Announcer.MVM_Wave_Start"
		//Sound "Announcer.mvm_another_bomb"
		
		StartWaveOutput	// Tell the game we are ready. Change "mp_tournamentmode" to 0
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput					
		{
			Target wave_finished_relay
			Action trigger
		}	
			WaitWhenDone 5
			
		WaveSpawn 
		{
			Name "wave4a"
			Where spawnbot
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			
			WaitBeforeStarting 0
			WaitBetweenSpawns 0
			TotalCurrency 100 // 700 left
		
			FirstSpawnMessage "{yellow}VOX {FFFFFF}: Alert. Robot Type Armored Scout is able to stun."
			
			TFBot
			{
				Template T_TFBot_Giant_Scout_Baseball_Armored
			}		
		}
		WaveSpawn
		{
			Name "wave4b"
			WaitForAllDead "wave4a"
			Where spawnbot
			TotalCount 30
			MaxActive 6
			SpawnCount 4
			
			WaitBeforeStarting 10
			WaitBetweenSpawns 4
			TotalCurrency 90 // 610 left
		
			Squad
			{
				TFBot
				{
					Template T_TFBot_Heavy_AssaultCannon
					ClassIcon heavy_electric
				}
				TFBot
				{
					Template T_TFBot_Medic_Overheal3
					ClassIcon medic_overheal_sif
				}
			}
		}
		WaveSpawn 
		{
			Name "wave4c"
			Where spawnbot
			WaitForAllDead "wave4a"
			TotalCount 4
			MaxActive 1
			SpawnCount 1
			
			WaitBeforeStarting 0
			WaitBetweenSpawns 10
			TotalCurrency 200 // 410 left
		
			TFBot
			{
				Template T_TFBot_Pyro_DragonFury
				Name "Giant Dragon Furry Pyro"
				Skill Expert
				Item "The Head Prize"
				Health 3000
				WeaponRestrictions PrimaryOnly
				Attributes AlwaysCrit
				Attributes MiniBoss
				CharacterAttributes
				{
					"move speed bonus"	0.5
					"damage force reduction" 0.6
					"airblast vulnerability multiplier" 0.25
					"override footstep sound set" 6
					"cannot be sapped" 1
				}
			}
		}
		WaveSpawn 
		{
			Name "wave4d"
			WaitForAllDead "waveb"
			Where spawnbot_side
			TotalCount 30
			MaxActive 12
			SpawnCount 5
			
			WaitBeforeStarting 20
			WaitBetweenSpawns 3 
			TotalCurrency 60 // 350 left
		
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Pyro_Flaregun
				}
				TFBot
				{
					Template T_TFBot_Pyro_IncendCannon
					ClassIcon pyro_rocketflare
				}
			}
		}
		WaveSpawn 
		{
			Name "wave4e"
			Where spawnbot
			WaitForAllDead "wave4c"
			TotalCount 3
			MaxActive 3
			SpawnCount 3
			
			WaitBeforeStarting 8
			WaitBetweenSpawns 0
			TotalCurrency 150 // 200 left
		
			Squad
			{
				TFBot
				{
					Template T_TFBot_Heavyweapons_Heater
					Name "Giant Fire Dragon Heavy"
				}
				TFBot
				{
					Template T_TFBot_Giant_Medic
					Attributes IgnoreEnemies
					Attributes SpawnWithFullCharge
					Name "Giant Uber Medic"
					ClassIcon medic_uber_giant
					Item "TF_WEAPON_MEDIGUN"
					DropWeapon 1
					ItemAttributes
					{
						ItemName "TF_WEAPON_MEDIGUN"
						"ubercharge rate bonus" 10
						"uber duration bonus" -4
					}
					CharacterAttributes
					{
						"heal rate bonus" 0.1
						"bot medic uber health threshold" 3000
					}
				}
				TFBot
				{
					Template T_TFBot_Giant_Medic
					Attributes IgnoreEnemies
					Name "Giant QuickFix Medic"
				}
			}
		}
		WaveSpawn 
		{
			Name "wave4f"
			WaitForAllDead "wave4e"
			Where spawnbot
			Where spawnbot_side
			WaitForAllSpawned "wave4e"
			TotalCount 25
			MaxActive 10
			SpawnCount 5
			
			WaitBeforeStarting 5
			WaitBetweenSpawns 3
			TotalCurrency 50 // 150 left
		
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Soldier_Airstrike
					Skill Expert
					ClassIcon soldier_airstrike_lite
					ItemAttributes
					{
						ItemName "The Air Strike"
						"clip size bonus"  4 // Fires 6 ~ 1-3+2
					}	
				}
				TFBot
				{
					Template T_TFBot_Soldier_Airstrike
					Skill Hard
					ClassIcon soldier_airstrike_lite
					ItemAttributes
					{
						ItemName "The Air Strike"
						"clip size bonus"  3 // Fires 5 ~ 1-3+2
					}	
				}
				TFBot
				{
					Template T_TFBot_Soldier_Airstrike
					Skill Normal
					ClassIcon soldier_airstrike_lite
					ItemAttributes
					{
						ItemName "The Air Strike"
						ClassIcon soldier_airstrike_lite
						"clip size bonus"  6 // Fires 8 ~ 1-3+6
					}	
				}
			}
		}
		WaveSpawn 
		{
			Name "wave4g"
			Where spawnbot
			WaitForAllSpawned "wave4f"
			TotalCount 25
			MaxActive 10
			SpawnCount 4
			
			WaitBeforeStarting 4
			WaitBetweenSpawns 8
			TotalCurrency 50 // 100 left
		
			Squad
			{
				TFBot
				{
					Template T_TFBot_Scout_Bonk // Do catcher's Mitt
				}
				TFBot
				{
					Template T_TFBot_Scout_Bonk // Do catcher's Mitt
				}
				TFBot
				{
					Template T_TFBot_Scout_Bonk // or something like buff / custom bonk
				}
				TFBot
				{
					Template T_TFBot_Soldier_Concheror_Support
					Attributes AlwaysFireWeapon
					ClassIcon soldier_conch_only
				}
			}
		}
		
		WaveSpawn
		{
			Name	"wave4tank"
			WaitForAllDead "wave4f"
			TotalCurrency	110 
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting	6
			WaitBetweenSpawns	0
			FirstSpawnWarningSound "mvm/mvm_tank_start.wav"

			Tank
			{
				Health	10000
				Name	"tankboss"
				Speed	75
				ClassIcon tank_small_turret
				SpawnTemplate "SmallTankTurret"
				DisableSmokestack 1
				MaxTurnRate 60
				Scale 0.9
				StartingPathTrackNode	"tank_path_b" // right				
				OnKilledOutput                                  
				{
					Target boss_dead_relay
					Action Trigger                         
				}
				
				OnBombDroppedOutput
				{
					Target	boss_deploy_relay
					Action	Trigger
				}
			}
		}
		
		WaveSpawn 
		{
			Name "wave4h"
			Where spawnbot
			WaitForAllDead "wave4f"
			TotalCount 3
			MaxActive 3
			SpawnCount 3
			
			WaitBeforeStarting 15
			WaitBetweenSpawns 0
			TotalCurrency 100 // 0 left
		
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Soldier
					ClassIcon soldier_burstfire
					Health 800
					Scale 2
					Name "Giant Slow Burstfire Soldier"
					Attributes HoldFireUntilFullReload
					Attributes AlwaysCrit
					DropWeapon 1
					ItemAttributes
					{
						ItemName "TF_WEAPON_ROCKETLAUNCHER"
						"damage bonus" 2.0
						"faster reload rate" 0.2
						"fire rate bonus" 0.4
						"clip size upgrade atomic" 5.0
						"projectile acceleration start time" 3
						"item style override" "1"
						"is australium item" "1"
					}
					CharacterAttributes
					{
						"move speed bonus"	0.3
						"Projectile speed increased" 0.5
					}
				}
				TFBot
				{
					Template T_TFBot_Giant_Medic
					Item "The Crusader's Crossbow"
					Attributes AlwaysFireWeapon
					WeaponRestrictions PrimaryOnly
					Name "Giant Crossbow Medic"
				}
				TFBot
				{
					Template T_TFBot_Giant_Medic
					Attributes AlwaysFireWeapon
					WeaponRestrictions PrimaryOnly
					ClassIcon medic_crossbow
					Name "Giant Crossbow Medic"
				}
			}
		}
		
		WaveSpawn // 
		{
			Name "protogenbots-w1a"
			Where "protocopyred"
			
			TotalCount 99
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 15
			WaitBetweenSpawns 30
			TotalCurrency 0
			FirstSpawnWarningSound "mvm/mvm_tele_deliver.wav"
			//HideIcon 1
			
			Support Limited
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Name "Protocopy"
					Health 300
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Overheal4
					Name "Protocopy"
					Health 250
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Shield
					Name "Protocopy"
					Health 250
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Kritzkrieg
					Name "Protocopy"
					Health 300
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
			}
		}
		WaveSpawn // Target Spawn check
		{
			Name "target2a"
			Where "ctspawn"
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 15
			WaitBetweenSpawns 10
			TotalCurrency 0
			//FirstSpawnWarningSound "mvm/mvm_tele_deliver.wav"
			HideIcon 1
			
			Support Limited
		
			TFBot
			{
				Template T_TFBot_Heavy_BareFist
				Attributes MiniBoss
				Attributes IgnoreEnemies
				Attributes IgnoreFlag
				Attributes SuppressFire
				Name "Red's Hatch Flag!"
				Item "The Scariest Mask EVER"
				Scale 0.3
				Health 5
				CharacterAttributes
				{
					"increased jump height" 0.1
					"move speed penalty"	0.1
				}
				AddCond  
				{
					Name "TF_COND_REPROGRAMMED"
					Delay 0
				}
			}	
		}	// Spawned target in spawn
		WaveSpawn // Spawn supports after w_1a. If this is killed, spawn support 1b. Spawn worse bots later.
		{
			Name "target2b"
			Where "hatch"
			WaitForAllDead "target2a"
			
			TotalCount 99
			MaxActive 2
			SpawnCount 2
			WaitBeforeStarting 0
			WaitBetweenSpawns 45
			TotalCurrency 0
			//FirstSpawnWarningSound "mvm/mvm_tele_deliver.wav"
			//HideIcon 1
			
			Support Limited
		
			FirstSpawnMessage "{yellow}VOX{FFFFFF}: Alert. We are close. To. Losing."
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Heavy_Ludmilla
					Name "Reb Protocopy"
					Skill Expert
					Attributes AlwaysFireWeapon
					Health 250
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Heavy_Natascha
					Name "Reb Protocopy"
					Skill Expert
					Health 600
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Pyro_DragonFury
					Name "Reb Protocopy"
					Health 325
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Heavy_Brass
					Name "Reb Protocopy"
					Skill Expert
					Health 600
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
			}
		}	// Scripted Reinforcement #1
		
		
	}
	
	Wave // Wave 5
	{
		//Sound "Announcer.IncomingMob" 	// Play sound "mvm_general_wav_start.wav"
		//Sound "Announcer.MVM_General_Wave_Start" 
		//Sound "Announcer.MVM_First_Wave_Start"
		//Sound "Announcer.MVM_Manned_Up"
		//Sound "Announcer.MVM_Wave_Start"
		//Sound "Announcer.mvm_another_bomb"
		Sound "Announcer.MVM_Final_Wave_End"
		
		StartWaveOutput	// Tell the game we are ready. Change "mp_tournamentmode" to 0
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput					
		{
			Target wave_finished_relay
			Action trigger
		}	
			WaitWhenDone 5
			
		WaveSpawn
		{
			Name "wave5a"
			Where spawnbot
			TotalCount 10
			MaxActive 2
			SpawnCount 2
			
			WaitBeforeStarting 15
			WaitBetweenSpawns 12
			TotalCurrency 40 // 760 left
		
			FirstSpawnMessage "{yellow}VOX {FFFFFF}: "
			
			TFBot
			{
				Template T_TFBot_Pyro_Deflector
				ClassIcon pyro_deflector_sif
			}		
		}
		
		WaveSpawn
		{
			Name "wave5b"
			Where spawnbot
			TotalCount 15
			MaxActive 6
			SpawnCount 4
			
			WaitBeforeStarting 5
			WaitBetweenSpawns 4
			TotalCurrency 40 // 720 left
		
			TFBot
			{
				Template T_TFBot_Demoman_Knight
			}		
		}
		WaveSpawn
		{
			Name "wave5c"
			Where spawnbot_side
			TotalCount 15
			MaxActive 6
			SpawnCount 4
			
			WaitBeforeStarting 5
			WaitBetweenSpawns 2
			TotalCurrency 40 // 680 left
		
			TFBot
			{
				Template T_TFBot_Demoman_Knight
			}		
		}
		WaveSpawn
		{
			Name "wave5d"
			Where spawnbot
			TotalCount 4
			MaxActive 2
			SpawnCount 2
			
			WaitBeforeStarting 5
			WaitBetweenSpawns 0
			TotalCurrency 100 // 580 left
		
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Soldier_RocketShotgun
				}
				TFBot
				{
					Template T_TFBot_Giant_Soldier_Spammer_Reload
					Attributes AlwaysCrit
				}
			}
		}
		
		WaveSpawn
		{
			Name "wave5e"
			WaitForAllDead "wave5d"
			Where spawnbot
			Where spawnbot_side
			TotalCount 30
			MaxActive 12
			SpawnCount 4
			
			WaitBeforeStarting 2
			WaitBetweenSpawns 1
			TotalCurrency 120 // 460 left
		
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Heavy_Tomislav
					ClassIcon heavy_accurate_lite
				}
				TFBot
				{
					Template T_TFBot_Heavy_IronCurtain
				}
				TFBot
				{
					Template T_TFBot_Heavy_IronCurtain
				}
				TFBot
				{
					Template T_TFBot_Soldier_Buff_Support
					//ClassIcon soldier_buff_only
				}
			}			
		}
		
		WaveSpawn
		{
			Name "wave5f"
			WaitForAllDead "wave5e"
			Where spawnbot_side
			TotalCount 99
			MaxActive 2
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 10
			TotalCurrency 0 // 460 left
			
			Support Limited
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Scout_Concussion
				}
				TFBot
				{
					Template T_TFBot_Scout_Caltrop
				}
			}
		}
		
		WaveSpawn
		{
			Name "wave5g"
			WaitForAllDead "wave5e"
			Where spawnbot_side
			TotalCount 32
			MaxActive 16
			SpawnCount 4
			
			WaitBeforeStarting 10
			WaitBetweenSpawns 2
			TotalCurrency 80 // 380 left
		
			Squad
			{
				TFBot
				{
					Template T_TFBot_Sniper_Huntsman
					ClassIcon sniper_bow_penetrator
				}
				TFBot
				{
					Template T_TFBot_Sniper_Huntsman
					ClassIcon sniper_bow_penetrator
					ItemAttributes
					{
						ItemName "The Huntsman"
						"projectile penetration" 1
					}
				}
				TFBot
				{
					Template T_TFBot_Demo_Burst
					Attributes AlwaysCrit
				}
				TFBot
				{
					Template T_TFBot_Medic_Kritzkrieg
					ClassIcon medic_kritz2
				}
			}
		}
		
		WaveSpawn
		{
			Name "wave5h"
			WaitForAllDead "wave5e"
			Where spawnbot
			TotalCount 3
			MaxActive 3
			SpawnCount 3
			
			WaitBeforeStarting 0
			WaitBetweenSpawns 1
			TotalCurrency 90 // 290 left
		
			Squad
			{
				TFBot
				{
					Template T_TFBot_Heavy_AssaultCannon
					ClassIcon heavy_electric
					Name "Giant Assault Cannon Heavy"
					Skill Expert
					Health 5250
					MaxVisionRange 2000
					Attributes MiniBoss
					CharacterAttributes
					{
						"move speed bonus"	0.5
						"damage force reduction" 0.3
						"airblast vulnerability multiplier" 0.2
						"override footstep sound set" 2
						"cannot be sapped" 1
					}
				}
				TFBot
				{
					Template T_TFBot_Giant_Medic
					Name "Giant Uber Medic"
					ClassIcon medic_uber_giant
					Item "TF_WEAPON_MEDIGUN"
					DropWeapon 1
					ItemAttributes
					{
						ItemName "TF_WEAPON_MEDIGUN"
						"ubercharge rate bonus" 12
						"uber duration bonus" -5
					}
					CharacterAttributes
					{
						"heal rate bonus" 0.1
						//"bot medic uber health threshold" 3000
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Kritzkrieg
					ClassIcon medic_kritz2_giant
					Skill Expert
					Attributes MiniBoss
					Health 4000
					ItemAttributes
					{
					ItemName "The Kritzkrieg"
					"uber duration bonus" 10 // 50s uber
					"ubercharge rate bonus" 15
					}
					CharacterAttributes
					{
					"bot medic uber health threshold" 5000 // Use, immediately.
					"heal rate bonus" 0.4
					"cannot be sapped" 1
					}
				}
			}
		}
		
		WaveSpawn
		{
			Name "wave5j"
			WaitForAllDead "wave5h"
			Where spawnbot
			TotalCount 32
			MaxActive 16
			SpawnCount 8
			
			WaitBeforeStarting 10
			WaitBetweenSpawns 1
			TotalCurrency 90 // 200 left
		
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Scout_Backscatter
					ClassIcon scout_backscatter_lite
				}
				TFBot
				{
					Template T_TFBot_Scout_SodaPopper
					ClassIcon scout_popper
				}
				TFBot
				{
					Template T_TFBot_Scout_Blaster
					ClassIcon scout_blaster_nys_bright
				}
			}
		}
		
		WaveSpawn
		{
			Name	"wave5tank"
			WaitForAllDead "wave5h"
			TotalCurrency	110 
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting	6
			WaitBetweenSpawns	0
			FirstSpawnWarningSound "mvm/mvm_tank_start.wav"
			
			FirstSpawnMessage "{yellow}VOX{FFFFFF}: Attention, to all red team personnel. The last tank has arrived."
			Tank
			{
				Health	50000
				Name	"tankboss"
				Speed	60
				DisableSmokestack 1
				MaxTurnRate 40
				Scale 0.9
				StartingPathTrackNode	"tank_path_a" // lefft
				
				OnKilledOutput                                  
				{
					Target boss_dead_relay
					Action Trigger                         
				}
				
				OnBombDroppedOutput
				{
					Target	boss_deploy_relay
					Action	Trigger
				}
			}
		}
		
		WaveSpawn
		{
			Name "wave5j"
			WaitForAllDead "wave5h"
			Where spawnbot
			TotalCount 7
			MaxActive 7
			SpawnCount 7
			
			WaitBeforeStarting 10s
			WaitBetweenSpawns 1
			TotalCurrency 90 // 0 left
		
			Squad
			{
				TFBot
				{
					Template T_TFBot_Soldier_Bazooka // This is technically burstfire
					ClassIcon soldier_bazooka
					Name "Giant Barrage Bazooka Soldier"
					Health 9000 // 2.5x more HP than standard giant
					Scale 1.9
					Attributes MiniBoss
					Attributes HoldFireUntilFullReload
					ItemAttributes
					{
						ItemName "The Beggar's Bazooka"
						"can overload" 0
						"faster reload rate" 0.5
						"fire rate bonus" 0.1
						"clip size upgrade atomic" 15
						"no primary ammo from dispensers while active" 0
					}	
					CharacterAttributes
					{
						"move speed bonus"	0.5
						"damage bonus" 1.4
						"damage force reduction" 0.4
						"airblast vulnerability multiplier" 0.3
						"override footstep sound set" 3
						"Projectile speed increased" 0.9
						"cannot be sapped" 1
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Kritzkrieg
					ClassIcon medic_kritz2
				}
				TFBot
				{
					Template T_TFBot_Medic_Kritzkrieg
					ClassIcon medic_kritz2
				}
				TFBot
				{
					Template T_TFBot_Medic_Kritzkrieg
					ClassIcon medic_kritz2
				}
				TFBot
				{
					Template T_TFBot_Medic_Kritzkrieg
					ClassIcon medic_kritz2
				}
				TFBot
				{
					Template T_TFBot_Medic_Kritzkrieg
					ClassIcon medic_kritz2
				}
				TFBot
				{
					Template T_TFBot_Medic_Shield
					ClassIcon medic_shield
					Name "Giant Shielding Medic"
					Health 4500
					Skill Expert
					Attributes IgnoreEnemies
					Attributes MiniBoss
					CharacterAttributes
					{
						"cannot be sapped" 1
					}
				}
			}
		}
		
		WaveSpawn // 
		{
			Name "protogenbots-w1a"
			Where "protocopyred"
			
			TotalCount 99
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 15
			WaitBetweenSpawns 30
			TotalCurrency 0
			FirstSpawnWarningSound "mvm/mvm_tele_deliver.wav"
			//HideIcon 1
			
			Support Limited
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
					Name "Protocopy"
					Health 300
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Overheal4
					Name "Protocopy"
					Health 250
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Shield
					Name "Protocopy"
					Health 250
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Kritzkrieg
					Name "Protocopy"
					Health 300
					ClassIcon soldier_robot_nys
					AddCond  
					{
						Name "TF_COND_REPROGRAMMED"
						Delay 0
					}
				}
			}
		
		}
	}
	
	Wave // Wave 6
	{
		Sound "Announcer.IncomingMob" 	// Play sound "mvm_general_wav_start.wav"
		//Sound "Announcer.MVM_General_Wave_Start" 
		//Sound "Announcer.MVM_First_Wave_Start"
		//Sound "Announcer.MVM_Manned_Up"
		//Sound "Announcer.MVM_Wave_Start"
		//Sound "Announcer.mvm_another_bomb"
		//Sound "Announcer.MVM_Get_To_Upgrade"
		
		StartWaveOutput	// Tell the game we are ready. Change "mp_tournamentmode" to 0
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput					
		{
			Target wave_finished_relay
			Action trigger
		}	
			WaitWhenDone 5
			RedTeamWipeCausesWaveLoss 1
			
		WaveSpawn // Spawned just to push the bomb.
		{
			Name "wave6a"
			Where boss_owo
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			
			WaitBeforeStarting 5
			WaitBetweenSpawns 0
			TotalCurrency 0 // 1666 left
		
			FirstSpawnMessage "{yellow}VOX {FFFFFF}: Wave 6 has started. It is unfinished. Please effing kill me."
			
			TFBot
			{
				Class Heavy
				Name "I am a TEMPLATE."
				Skill Expert
				WeaponRestrictions MeleeOnly
				Health 30
				ClassIcon "headprize_lite"
			}		
		}
		WaveSpawn // Spawned just to push the bomb.
		{
			Name "wave6b"
			
			Where boss_owo
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			
			WaitBeforeStarting 10
			WaitBetweenSpawns 0
			TotalCurrency 0 // 1666 left
		
			FirstSpawnMessage "{yellow}VOX {FFFFFF}: Reminder, team wipe results in a loss."
			
			TFBot
			{
				Class Soldier
				ClassIcon headprize_lite
				UseMeleeThreatPrioritization 1
				Name "Shifty Giant Soldier"
				Health 40000
				Scale 2.1
				Skill Expert
				WeaponRestrictions PrimaryOnly
				Attributes UseBossHealthBar
				Attributes MiniBoss
				Item "Battery Canteens"
				UseHumanAnimations 1 
				Attributes MiniBoss
				Action Mobber
				ItemAttributes
				{
					ItemName "TF_WEAPON_ROCKETLAUNCHER"
					"faster reload rate" -0.8
					"fire rate bonus" 0.5
				}
				CharacterAttributes
				{
					"move speed bonus"	0.5
					"damage force reduction" 0.4
					"airblast vulnerability multiplier" 0.4
					"override footstep sound set" 3
					"rage giving scale" 0.5
					"Projectile speed increased" 0.85
					"cannot be sapped" 1
				}
				ItemAttributes
				{
					ItemName "Battery Canteens" 
					"kritboost" 2
					"powerup duration" 8
					"powerup charges" 2
				}
				ExtAttr SuppressCanteenUse
				Message
				{
                    Name "{yellow} Shifty Giant Soldier{ffffff} attacks!"
                    Delay 4
                    Repeats 1
                    Ifhealthbelow 40000
				}
				ChangeAttributes    
				{
					Delay 0
					Repeats 1
					IfHealthBelow 32500
					Name "burst"
				}
				ChangeAttributes    
				{
					Delay 0
					Repeats 1
					IfHealthBelow 25000
					Name "barrage"
				}
				ChangeAttributes    
				{
					Delay 0
					Repeats 1
					IfHealthBelow 15000
					Name "homing"
				}
				ChangeAttributes    
				{
					Delay 0
					Repeats 1
					IfHealthBelow 2000
					Name "equalizerbeta"
				}
				EventChangeAttributes
				{
					burst
					{
						UseMeleeThreatPrioritization 1
						WeaponRestrictions PrimaryOnly
						Attributes HoldFireUntilFullReload
						ItemAttributes
						{
							ItemName "TF_WEAPON_ROCKETLAUNCHER"
							"move speed bonus"	0.5
							"faster reload rate" 0.6
							"fire rate bonus" 0.1
							"clip size upgrade atomic" 5.0
							"Projectile speed increased" 0.65
						}
						CharacterAttributes
						{
							"move speed bonus"	0.5
							"damage force reduction" 0.3
							"airblast vulnerability multiplier" 0.3
							"override footstep sound set" 3
							"rage giving scale" 0.5
							"Projectile speed increased" 0.9
							"cannot be sapped" 1
						}
					}
					barrage
					{
						UseMeleeThreatPrioritization 1
						WeaponRestrictions PrimaryOnly
						Attributes HoldFireUntilFullReload
						ItemAttributes
						{
							ItemName "TF_WEAPON_ROCKETLAUNCHER"
							"move speed bonus"	0.5
							"faster reload rate" 0.6
							"fire rate bonus" 0.1
							"clip size upgrade atomic" 5
							"Projectile speed increased" 0.65
						}
						CharacterAttributes
						{
							"move speed bonus"	0.5
							"damage force reduction" 0.3
							"airblast vulnerability multiplier" 0.3
							"override footstep sound set" 3
							"rage giving scale" 0.5
							"Projectile speed increased" 0.9
							"cannot be sapped" 1
						}
					}
					homing
					{
						UseMeleeThreatPrioritization 1
						WeaponRestrictions PrimaryOnly
						Attributes HoldFireUntilFullReload
						AimOffset "0 0 900"
						HomingRockets
						{
							TurnPower 60
							MaxAimError 40
							AimTime 4
							AimStartTime 3
						}
						ItemAttributes
						{
							ItemName "TF_WEAPON_ROCKETLAUNCHER"
							"faster reload rate" 0.6
							"fire rate bonus" 0.1
							"clip size upgrade atomic" 6
							"Projectile speed increased" 0.4
						}
						CharacterAttributes
						{
							"move speed bonus"	0.5
							"damage force reduction" 0.2
							"airblast vulnerability multiplier" 0.2
							"override footstep sound set" 3
							"rage giving scale" 0.35
							"cannot be sapped" 1
						}
					}
					equalizerbeta
					{
						UseMeleeThreatPrioritization 1
						WeaponRestrictions MeleeOnly
						Item "The Escape Plan"
						ItemAttributes
						{
							ItemName "the escape plan"
							"damage bonus" 1.5
							"fire rate bonus" 1.75
						}
						CharacterAttributes
						{
							"move speed bonus"	0.3
							"damage force reduction" 0.2
							"airblast vulnerability multiplier" 0.2
							"override footstep sound set" 3
							"rage giving scale" 0.2
							"cannot be sapped" 1
						}
					}
				}
			}	
		}
	}
}