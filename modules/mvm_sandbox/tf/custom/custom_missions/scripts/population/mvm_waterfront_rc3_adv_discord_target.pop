#base robot_giant.pop
#base robot_standard.pop
#base robot_gatebot.pop
#base robot_guide.pop
#base robot_caustic.pop




WaveSchedule
{ //Template de la mission
Templates
{
        T_TFBot_Heavyweapons_Shotgun_Caustic
        {
            Class Heavyweapons
            ClassIcon heavy_shotgun
            Name "Heavy Shotgun Caustic"
            ClassIcon "heavy_shotgun_caustic2"
            Item "The Purity Fist"
            Skill Hard
            WeaponRestrictions SecondaryOnly
            ItemAttributes
            {
                ItemName "TF_WEAPON_SHOTGUN_HWG"
                "faster reload rate" 0.1
                "fire rate bonus" 2.5
                "bullets per shot bonus" 3
                "damage bonus" 0.33
                "bleeding duration" 10
            }
        }
        T_TFBot_Soldier_DirectHit
        {
            Name "Direct Hit Soldier"
            Class Soldier
            ClassIcon soldier_directhit_lite
        
            Skill Hard // Kept on hard so they can hit their shots
            MaxVisionRange 1400
            WeaponRestrictions PrimaryOnly
        
            Item "The Direct Hit"
        }
        T_TFBot_Giant_Heavyweapons_Tomislav
        {
            Name "Giant Tomislav Heavy"
            Class Heavyweapons
            ClassIcon heavy_accurate_lite
            Scale 1.7
            Health 5000
            
            Attributes MiniBoss
            Skill Expert
            MaxVisionRange 1800
            WeaponRestrictions PrimaryOnly
            
            Tag bot_giant
            Item "Tomislav"
            Item "Capone's Capper"
            ItemAttributes
            {
                ItemName "Tomislav"
                "damage bonus" 1.5
            }
            CharacterAttributes
            {
                "move speed bonus" 0.5
                "damage force reduction" 0.3
                "airblast vulnerability multiplier" 0.3
                "override footstep sound set" 2 
            }
        }
        T_TFBot_Medic_Shield
        {
            Name "Shield Medic"
            Class Medic
            ClassIcon medic_shield

            Attributes ProjectileShield
            Attributes SpawnWithFullCharge
            Attributes IgnoreEnemies // players dont want to be looked at by a shield medic
            Skill Expert 
            WeaponRestrictions SecondaryOnly
            
            Item "upgradeable tf_weapon_medigun"
            Item "Grimm Hatte"
            ItemAttributes
            {
                ItemName "upgradeable tf_weapon_medigun"
                "ubercharge rate bonus" 0.01 // pretty much disables ubercharge
                "generate rage on heal"  2
                "increase buff duration"  9999999
            }
            CharacterAttributes
            {
                "bot medic uber deploy delay duration"  100000
                "voice pitch scale" 0 // disables medic using human medic shield voicelines
            }
        }
        T_TFBot_Medic_Kritz
        {
            Name "Kritz Medic"
            Class Medic 
            ClassIcon medic_kritz 
            
            Attributes SpawnWithFullCharge
            Skill Expert 
            WeaponRestrictions SecondaryOnly
            Item "The Team Captain"
            Item "The Kritzkrieg"
            ItemAttributes
            {
                ItemName "The Kritzkrieg"
                "uber duration bonus" 999
                "ubercharge rate bonus"  100
            }
            ItemAttributes
            {
                ItemName "Upgradeable TF_WEAPON_SYRINGEGUN_MEDIC"
                "damage penalty" 0.1
            }
            CharacterAttributes
            {
                "bot medic uber health threshold"  100000
                "heal rate bonus" 5
            } 
        }
    T_TFBot_Pyro_Dragon
        {
            Name "Dragon Pyro"
            Class Pyro 
            ClassIcon pyro_dragon_fury_swordstone
            Skill Hard
            MaxVisionRange 800
            WeaponRestrictions PrimaryOnly
            Item "The Dragon's Fury"
            Item "Special Eyes"
            ItemAttributes
            {
                Itemname "Special Eyes"
                "item style override" 2 // angry style, change style with 1, 2
            }
        }
        T_TFBot_Heavy_Tomislav
        {
            Name "Tomislav Heavy"
            Class Heavyweapons 
            ClassIcon heavy_accurate_lite 

            Skill Normal 
            WeaponRestrictions PrimaryOnly
            Item "Capone's Capper"
            Item "Tomislav"
        }
    T_TFBot_Soldier_Mangler
        {
            Name "Mangler Soldier"
            Class Soldier 
            ClassIcon soldier_mangler
        
            //Attributes HoldFireUntilFullReload // THIS DOESNT WORK WITH THE MANGLER, NOBODY KNOWS WHY
            Skill Normal
            WeaponRestrictions PrimaryOnly
        
            Item "The Cow Mangler 5000"
        }
T_TFBot_Giant_Soldier_Escape
        {
            Name "Giant Escape Soldier"
            Class Soldier
            ClassIcon soldier_escape
            Scale 1.75
            Health 4000
        
            Attributes MiniBoss
            Skill Expert
            WeaponRestrictions MeleeOnly
        
            Tag bot_giant
        
            Item "The Escape Plan"
    
            ItemAttributes
            {
                ItemName "The Escape Plan"
                "self mark for death" 0
            }
            CharacterAttributes
            {
                "move speed bonus" 0.5
                "damage force reduction" 0.2
                "airblast vulnerability multiplier" 0.2
                "override footstep sound set" 3
            }
        }

        T_TFBot_Giant_Heavyweapons_Heater_Boss
        {
            Class Heavyweapons
            Name "Captain Caustic Fire"
            ClassIcon heavy_heater_giant
            Skill Expert
            Health 30000
            WeaponRestrictions PrimaryOnly
            MaxVisionRange 1800
            Item "The Huo Long Heatmaker"
            Attributes MiniBoss
            Attributes UseBossHealthBar
            ItemAttributes
            {
                ItemName "The Huo Long Heatmaker"
                "damage bonus"  1.5
                "bleeding duration" 10
                "fire rate bonus" 2
            }
            CharacterAttributes
            {
                "move speed bonus"  0.3
                "damage force reduction" 0.3
                "airblast vulnerability multiplier" 0.3
                "override footstep sound set" 2
            }
        }
        T_TFBot_Soldier_Hyper_Extended_Battalion
        {
            Class Soldier
            Name "Upgraded Backup Soldier"
            Skill Normal
            ClassIcon soldier_tanker_hyper
            Attributes SpawnWithFullCharge
            Item "The Battalion's Backup"
            Scale 1.4
            Health "500"
            CharacterAttributes
            {
                "increase buff duration"    9.0
                "move speed bonus"  0.3
                "override footstep sound set" 2
            }
            ItemAttributes
                {
                    ItemName "TF_WEAPON_ROCKETLAUNCHER"
                    "faster reload rate" -0.3
                    "fire rate bonus" 0.2
                    "Reload time decreased" 0.2
                    "set item tint RGB" 20711554




                }


        }
        T_TFBot_Giant_Direct_Hit_Soldier
            {
                Class Soldier
                Name "Giant Direct Hit Soldier"
                ClassIcon "soldier_directhit_giant"
                Skill Expert
                Health 3800
                WeaponRestrictions PrimaryOnly
                Attributes HoldFireUntilFullReload
                Attributes MiniBoss
                Item "The direct hit"
                CharacterAttributes
                {
                    "move speed bonus"  0.5
                    "damage force reduction" 0.4
                    "airblast vulnerability multiplier" 0.4
                    "override footstep sound set" 3
                }
            }
        T_TFBot_Giant_Void_Eye_Boss
            {
                Name "Vel Bot Champion of Void"
                Class Soldier
                ClassIcon soldier_bison
                Scale 1.75
                Health 15000
           
                Attributes MiniBoss
                Skill Expert
                MaxVisionRange 1800
                WeaponRestrictions SecondaryOnly
           
                Tag bot_giant
                Item "The Righteous Bison"
                Attributes UseBossHealthBar
                Item "MONOCULUS!"
                Item "Safety Stripes"
                ItemAttributes
                {
                   ItemName "The Righteous Bison" // makes him the funny laser firing variant
                    "faster reload rate" -0.4
                    "fire rate bonus" 0.2
                }
                CharacterAttributes
                {
                    "move speed bonus" 0.5
                    "damage force reduction" 0.4
                    "airblast vulnerability multiplier" 0.4
                    "override footstep sound set" 3
                }
            }
        T_TFBot_Soldier_Extended_Buff_Banner_libertylauncher
            {
                Class Soldier
                Name "Extended Buff Soldier"
                Skill Normal
                ClassIcon soldier_buff
                Attributes SpawnWithFullCharge
                Item "The Buff Banner"
                Item "The liberty launcher"
                Item "Cold Snap Coat"
                Item "Condor Cap"
                CharacterAttributes
                {
                    "increase buff duration"    9.0
                }
            }
        T_TFBot_Giant_Soldier_Spammer_Libertylauncher
            {
                Class Soldier
                Name "Giant Rapid Fire Soldier"
                ClassIcon soldier_spammer
                Health 3800
                Skill Expert
                Item "Gentle Manne's Service Medal"
                Item "The liberty launcher"
                Item "Stahlhelm"
                Item "Lord Cockswain's Novelty Mutton Chops and Pipe"
                WeaponRestrictions PrimaryOnly
                Attributes MiniBoss
                ItemAttributes
                {
                    ItemName "The liberty launcher"
                    "faster reload rate" -0.8
                    "fire rate bonus" 0.5
                }
                CharacterAttributes
                {
                    "move speed bonus"  0.5
                    "damage force reduction" 0.4
                    "airblast vulnerability multiplier" 0.4
                    "override footstep sound set" 3
                    "Projectile speed increased" 0.65
                }
            }
        T_TFBot_Giant_Soldier_Spammer_DirectHit
            {
                Class Soldier
                Name "Giant Rapid Fire Soldier"
                ClassIcon soldier_spammer
                Health 3800
                Skill Expert
                Item "Gentle Manne's Service Medal"
                Item "The direct hit"  
                Item "Stahlhelm"
                Item "Lord Cockswain's Novelty Mutton Chops and Pipe"
                WeaponRestrictions PrimaryOnly
                Attributes MiniBoss
                ItemAttributes
                {
                    ItemName "The direct hit"
                    "faster reload rate" -0.8
                    "fire rate bonus" 0.5
                }
                CharacterAttributes
                {
                    "move speed bonus"  0.5
                    "damage force reduction" 0.4
                    "airblast vulnerability multiplier" 0.4
                    "override footstep sound set" 3
                    "Projectile speed increased" 0.65
                }
            }
        T_TFBot_Giant_Sniper_SMG_Cleaner
            {
                Name "Giant SMG Sniper"
                Class Sniper
                ClassIcon "sniper_smg_tind_giant"
                Scale 1.75
                Health 3000
                MaxVisionRange 2000
                Attributes MiniBoss
                Skill Expert
                WeaponRestrictions SecondaryOnly
               
                Tag bot_giant
                Item "The Cleaner's Carbine"
                Item "the anger"
                CharacterAttributes
                {
                    "move speed bonus" 0.5
                    "damage force reduction" 0.5
                    "airblast vulnerability multiplier" 0.5
                }
            }
}
    StartingCurrency 1000
    CanBotsAttackWhileInSpawnRoom No
    RespawnWaveTime 2








Mission
    {
        Objective DestroySentries




        where spawnbot
        BeginAtWave 1
        RunForThisManyWaves 5
        CooldownTime 30
        InitialCooldown 30
        DesiredCount 1
        TFBot
        {
            Template T_TFBot_SentryBuster
        }
    }
Mission
    {
        Objective Sniper
        where spawnbot
        BeginAtWave 1
        RunForThisManyWaves 1
        CooldownTime 60
        InitialCooldown 60
        DesiredCount 1
        TFBot
        {
            Class Sniper
            Skill easy
        }
    }
Mission
    {
        Objective Sniper
        where spawnbot
        BeginAtWave 3
        RunForThisManyWaves 1
        CooldownTime 60
        InitialCooldown 60
        DesiredCount 2
        TFBot
        {
            Class Sniper
            Item "The Bazaar Bargain"
            Name "Bazaar Bargain Sniper"
            Skill normal
        }
    }
Mission
    {
        Objective Spy




        where spawnbot
        BeginAtWave 4
        RunForThisManyWaves 1
        CooldownTime 45
        InitialCooldown 60
        DesiredCount 1
        TFBot
        {
            Class Spy
            Skill normal
        }
    }
wave //Vague 1
    {
        checkpoint yes
        startwaveoutput
            {
                target wave_start_relay
                action trigger
            }
        doneoutput
            {
                target wave_finished_relay
                action trigger
            }
            InitWaveOutput
        {
            Target gamerules
            Action RunScriptCode
            Param "
                EntFire(`bombpath_choose_relay`, `Kill`)
                EntFire(`bombpath_clearall_relay`, `Trigger`)
                EntFire(`bombpath_right_arrows`, `Kill`)
                EntFire(`bombpath_left`, `Trigger`)
                ClientPrint(null,3,`\x08FF54F1FFFor balancing issue, the bomb will take a unique path each wave`)
                ClientPrint(null,3,`\x08FF54F1FFThe bomb will take the left path`)
                local ent = Entities.FindByClassname(null, `tf_objective_resource`)
                if (ent)
                {
                    NetProps.SetPropString(ent, `m_iszMvMPopfileName`, `discord target`)
                }
            "
        }

        Wavespawn
            {
                totalcurrency 75
                name "1-1"
                randomspawn 1
                totalcount 24
                spawncount 1
                Maxactive 8
                waitbetweenspawns 0
                waitbeforestarting 1
                where spawnbot
                    tfbot
                    {
                        class Scout
                        Skill normal
                    }
            }
        Wavespawn
            {
                totalcurrency 75
                name "1-1-C"
                waitforalldead "1-1"
                waitforallspawned "1-1-B"
                randomspawn 1
                totalcount 16
                spawncount 1
                Maxactive 8
                waitbetweenspawns 0
                waitbeforestarting 1
                where spawnbot
                    tfbot
                    {
                        Template T_TFBot_Pyro_Flaregun
                        Skill normal
                    }
            }
        Wavespawn
            {
                totalcurrency 50
                name "1-1-A"
                totalcount 1
                spawncount 1
                Maxactive 1
                waitbetweenspawns 0
                waitbeforestarting 1
                where spawnbot_flank2
                tfbot
                    {
                        Template T_TFBot_Giant_Direct_Hit_Soldier
                    }
            }
        Wavespawn
            {
                totalcurrency 40
                name "1-1-A"
                totalcount 1
                spawncount 1
                Maxactive 1
                waitbetweenspawns 0
                waitbeforestarting 0
                where spawnbot
                tfbot
                    {
                        Template T_TFBot_Giant_Pyro
			ItemAttributes
                            {
                                ItemName    tf_weapon_flamethrower
                                "airblast disabled" 1
                            }
                    }
            }
        Wavespawn
            {
                totalcurrency 40
                name "1-1-B"
                waitforallspawned "1-1-A"
                totalcount 1
                spawncount 1
                Maxactive 1
                waitbetweenspawns 0
                waitbeforestarting 35
                where spawnbot_flank2
                tfbot
                    {
                        Template T_TFBot_Giant_Direct_Hit_Soldier
                    }
            }




        Wavespawn
            {
                totalcurrency 40
                name "1-1-B"
                waitforallspawned "1-1-A"
                totalcount 1
                spawncount 1
                Maxactive 1
                waitbetweenspawns 0
                waitbeforestarting 35
                where spawnbot
                tfbot
                    {
                        Template T_TFBot_Giant_Pyro
                        ItemAttributes
                            {
                                ItemName    tf_weapon_flamethrower
                                "airblast disabled" 1
                            }
                    }
            }
        Wavespawn
            {
                totalcurrency 40
                name "1-2-G"
                waitforalldead "1-1-B"
                totalcount 2
                spawncount 1
                Maxactive 1
                waitbetweenspawns 0
                waitbeforestarting 0
                where spawnbot_flank2
                tfbot
                    {
                        Template T_TFBot_Giant_Soldier_Spammer_Libertylauncher
                        Skill Hard
                    }
            }
        Wavespawn
            {
                totalcurrency 40
                name "1-2"
                waitforalldead "1-1-B"
                totalcount 4
                spawncount 1
                Maxactive 4
                waitbetweenspawns 5
                waitbeforestarting 0
                where spawnbot
                tfbot
                    {
                        Template T_TFBot_Soldier_Extended_Buff_Banner_libertylauncher
                        Skill Hard
                    }
            }
        Wavespawn
            {
                totalcurrency 100
                name "1-S"
                waitforalldead "1-2"
                Support Limited
                totalcount 100
                spawncount 1
                Maxactive 5
                waitbetweenspawns 0
                waitbeforestarting 0
                where spawnbot
                tfbot
                    {
                        Template T_TFBot_Pyro_Dragon
                        Maxvisionrange 1200
                        Skill Hard
                    }
            }
        Wavespawn
            {
                totalcurrency 200
                name "1-3-Flare"
                waitforalldead "1-2-G"
                totalcount 4
                spawncount 1
                Maxactive 2
                waitbetweenspawns 0
                waitbeforestarting 0
                where spawnbot
                tfbot
                    {
                        Template T_TFBot_Giant_Pyro_Flare_Spammer
                        ClassIcon pyro_detonator_giant
                        Skill Expert
                    }
            }
    Wavespawn
            {
                totalcurrency 200
                name "1-2"
                waitforalldead "1-1-B"
                totalcount 18
                spawncount 1
                Maxactive 6
                waitbetweenspawns 1
                waitbeforestarting 0
                where spawnbot
                tfbot
                    {
                        Class Soldier
                        Skill normal
                    }
            }
        Wavespawn
            {
                totalcurrency 200
                name "1-S"
                waitforalldead "1-2"
                Support Limited
                totalcount 100
                spawncount 1
                Maxactive 4
                waitbetweenspawns 0
                waitbeforestarting 0
                where spawnbot
                tfbot
                    {
                        Template T_TFBot_Scout_Melee
                    }
            }
    }
wave //Vague 2
    {
        checkpoint yes
        startwaveoutput
            {
                target wave_start_relay
                action trigger
            }
        doneoutput
            {
                target wave_finished_relay
                action trigger
            }
            InitWaveOutput
        {
            Target gamerules
            Action RunScriptCode
            Param "
                EntFire(`bombpath_choose_relay`, `Kill`)
                EntFire(`bombpath_clearall_relay`, `Trigger`)
                EntFire(`bombpath_left_arrows`, `TurnOff`)
                EntFire(`bombpath_right_arrows`, `TurnOn`)
                EntFire(`bombpath_right`, `Trigger`)
                ClientPrint(null,3,`\x08FF54F1FFThe bomb will take the right path`)
                local ent = Entities.FindByClassname(null, `tf_objective_resource`)
                if (ent)
                {
                    NetProps.SetPropString(ent, `m_iszMvMPopfileName`, `Discord Target`)
                }
            "
        }
    WaveSpawn
        {
            TotalCurrency 300
            Name "2-1-TANK"
            TotalCount 1
            WaitBeforeStarting 35
            FirstSpawnOutput
            {
                Target boss_spawn_relay
                Action Trigger
            }
            Tank
            {
                Name Tank
                Health 11000
                Speed 75
            Skin 1
                StartingPathTrackNode tankpath_alt
                OnKilledOutput
                {
                    Target boss_dead_relay
                    Action Trigger
                }
                OnBombDroppedOutput
                {
                    Target boss_deploy_relay
                    Action Trigger
                }
            }
        }
    Wavespawn
        {
            totalcurrency 100
            name "2-3"
            totalcount 24
            spawncount 3
            Maxactive 12
            waitbetweenspawns 3
            waitbeforestarting 0
            waitforallspawned "3-1"
            where spawnbot
            tfbot
            {
                Template T_TFBot_Heavyweapons_Shotgun
            }
        }
    Wavespawn
        {
            totalcurrency 75
            name "2-1-GheavyA"
            totalcount 1
            spawncount 1
            Maxactive 1
            waitbetweenspawns 0
            waitbeforestarting 10
            where spawnbot
            tfbot
            {
                Template T_TFBot_Giant_Heavyweapons
            }
        }
    Wavespawn
        {
            totalcurrency 100
            name "2-1"
            totalcount 2
            spawncount 1
            Maxactive 2
            waitbetweenspawns 0
            waitbeforestarting 0
            where spawnbot_flank2
            tfbot
            {
                Template T_TFBot_Giant_Soldier_Escape
                Item "The Escape Plan"
                ItemAttributes
                {
                    ItemName "The Escape Plan"
                    "self mark for death" 1
                }
            }
        }
 Wavespawn
        {
            totalcurrency 75
            name "2-S"
            totalcount 50
            spawncount 3
            Support 5
            Maxactive 12
            waitbetweenspawns 6
            waitbeforestarting 0
            where spawnbot
            tfbot
            {
                Template T_TFBot_Soldier_Mangler
            }
        }
    Wavespawn
        {
            totalcurrency 150
            name "2-1-GheavyB"
            totalcount 1
            waitforalldead "2-1-GheavyA"
            spawncount 1
            Maxactive 1
            waitbetweenspawns 0
            waitbeforestarting 10
            where spawnbot_flank2
            tfbot
            {
                Template T_TFBot_Giant_Heavyweapons
            }                  
        }
    Wavespawn
        {
            totalcurrency 150
            name "2-2"
            totalcount 8
            waitforalldead "2-1-GheavyB"
            spawncount 4
            Maxactive 4
            waitbetweenspawns 0
            waitbeforestarting 0
            where spawnbot_boss
            FirstSpawnWarningSound "vo/announcer_security_alert.mp3"
            FirstSpawnOutput
            {
                Target boss_door_open_relay
                Action Trigger
            }
            Squad
            {
                tfbot
                {
                    Template T_TFBot_Giant_Soldier_Spammer
                }
                tfbot
                {
                    Template T_TFBot_Medic_quickfix
                }
                tfbot
                {
                    Template T_TFBot_Medic_quickfix
                }
                tfbot
                {
                    Template T_TFBot_Medic_quickfix
                }
            }
        }
    Wavespawn
        {
            totalcurrency 150
            name "2-2"
            totalcount 100
            Support 1
            waitforalldead "2-1-GheavyB"
            spawncount 4
            Maxactive 12
            waitbetweenspawns 6
            waitbeforestarting 0
            where spawnbot
            where spawnbot_flank2
                tfbot
                {
                    Template T_TFBot_Scout_Sandman_FastCharge
                    Attributes AlwaysCrit
                }
        }
    }
wave //Vague 3
    {
        checkpoint yes
        startwaveoutput
            {
                target wave_start_relay
                action trigger
            }
        doneoutput
            {
                target wave_finished_relay
                action trigger
            }
            InitWaveOutput
        {
            Target gamerules
            Action RunScriptCode
            Param "
                EntFire(`bombpath_choose_relay`, `Kill`)
                EntFire(`bombpath_clearall_relay`, `Trigger`)
                EntFire(`bombpath_right_arrows`, `TurnOff`)
                EntFire(`bombpath_left_arrows`, `TurnOn`)
                EntFire(`bombpath_left`, `Trigger`)
                ClientPrint(null,3,`\x08FF54F1FFThe bomb will take the left path`)
                local ent = Entities.FindByClassname(null, `tf_objective_resource`)
                if (ent)
                {
                    NetProps.SetPropString(ent, `m_iszMvMPopfileName`, `discord target`)
                }
            "
        }
        Wavespawn
            {
                totalcurrency 150
                name "3-1"
                totalcount 3
                spawncount 3
                Maxactive 3
                waitbetweenspawns 0
                waitbeforestarting 10
                where spawnbot_flank2
                Squad
                {
                    tfbot
                    {
                        Template T_TFBot_Heavyweapons_Heater
                        Name "Giant Heavy Heater"
                    }
                    tfbot
                    {
                        Template T_TFBot_Medic_QuickUber
                        Skill Expert
                    }                  
                    tfbot
                    {
                        Template T_TFBot_Medic_QuickUber
                        Skill Expert
                    }
                }
            }
        Wavespawn
            {
                totalcurrency 150
                name "3-1"
                totalcount 3
                spawncount 1
                Maxactive 3
                waitbetweenspawns 8
                waitbeforestarting 15
                where spawnbot
                tfbot
                {
                    Template T_TFBot_Giant_Scout_Fast
                }
            }
        Wavespawn
            {
                totalcurrency 75
                name "3-S-Demo"
                randomspawn 1
                totalcount 24
                spawncount 1
                Maxactive 6
                waitbetweenspawns 0
                waitbeforestarting 0
                where spawnbot_flank2
                where spawnbot
                    tfbot
                    {
                        Class Demoman
                        Skill normal
                    }
            }
        Wavespawn
            {
                totalcurrency 100
                name "3-S-Scout"
                Support Limited
                randomspawn 1
                Support 1
                totalcount 24
                spawncount 1
                Maxactive 6
                waitbetweenspawns 0
                waitbeforestarting 0
                where spawnbot
                where spawnbot_flank2
                    tfbot
                    {
                        Template T_TFBot_Scout_Sandman
                    }
            }
	Wavespawn
            {
                totalcurrency 100
                name "3-2-A"
                waitforallspawned "3-1"
                totalcount 5
                spawncount 5
                Maxactive 5
                waitbetweenspawns 20
                waitbeforestarting 0
                where spawnbot_flank2
                Squad
                {
                    tfbot
                    {
                        Template T_TFBot_Giant_Demo_Burst
                    }
                    tfbot
                    {
                        Template T_TFBot_Medic_QuickUber
                        Skill Expert
                    }                  
                    tfbot
                    {
                        Template T_TFBot_Medic_QuickUber
                        Skill Expert
                    }
                    tfbot
                    {
                        Template T_TFBot_Medic_QuickUber
                        Skill Expert
                    }
                    tfbot
                    {
                        Template T_TFBot_Medic_QuickUber
                        Skill Expert
                    }
            	}
            }
        Wavespawn
            {
                totalcurrency 100
                name "3-2-B"
                waitforallspawned "3-2-A"
                totalcount 5
                spawncount 5
                Maxactive 5
                waitbetweenspawns 20
                waitbeforestarting 0
                where spawnbot_flank2
                Squad
                {
                    tfbot
                    {
                        Template T_TFBot_Giant_Demo_Burst
                    }
                    tfbot
                    {
                        Template T_TFBot_Medic_QuickUber
                        Skill Expert
                    }                  
                    tfbot
                    {
                        Template T_TFBot_Medic_QuickUber
                        Skill Expert
                    }
                    tfbot
                    {
                        Template T_TFBot_Medic_QuickUber
                        Skill Expert
                    }
                    tfbot
                    {
                        Template T_TFBot_Medic_QuickUber
                        Skill Expert
                    }
            	}
	    }
        Wavespawn
            {
                totalcurrency 150
                name "3-2-Pyro"
                Support 1
                waitforallspawned "3-2-B"
                totalcount 75
                spawncount 3
                Maxactive 9
                waitbetweenspawns 4
                waitbeforestarting 0
                where spawnbot_flank
                    tfbot
                    {
                        Class Pyro
                        Skill expert
                        ItemAttributes
                            {
                                ItemName    tf_weapon_flamethrower
                                "airblast disabled" 1
                            }
                    }
            }
        Wavespawn
            {
                totalcurrency 75
                name "3-3"
                waitforalldead "3-2-B"
                totalcount 3
                spawncount 1
                Maxactive 3
                waitbetweenspawns 7
                waitbeforestarting 0
                where spawnbot_flank2
                    tfbot
                    {
                        Template T_TFBot_Giant_Soldier_RocketShotgun
                    }
            }          
    }

wave //Vague 4
    {
        checkpoint yes
        startwaveoutput
            {
                target wave_start_relay
                action trigger
            }
        doneoutput
            {
                target wave_finished_relay
                action trigger
            }
            InitWaveOutput
        {
            Target gamerules
            Action RunScriptCode
            Param "
                EntFire(`bombpath_choose_relay`, `Kill`)
                EntFire(`bombpath_clearall_relay`, `Trigger`)
                EntFire(`bombpath_right_arrows`, `TurnOn`)
                EntFire(`bombpath_left_arrows`, `TurnOff`)
                EntFire(`bombpath_right`, `Trigger`)
                ClientPrint(null,3,`\x08FF54F1FFThe bomb will take the right path`)
                local ent = Entities.FindByClassname(null, `tf_objective_resource`)
                if (ent)
                {
                    NetProps.SetPropString(ent, `m_iszMvMPopfileName`, `discord target`)
                }
            "
        }
    Wavespawn
        {
            totalcurrency 300
            name "4-BOSS"
            totalcount 1
            spawncount 1
            Maxactive 1
            waitbetweenspawns 0
            waitbeforestarting 5
            where spawnbot_boss
            FirstSpawnWarningSound "vo/vel_battlecast_taunt_0.mp3"
            FirstSpawnOutput
            {
                Target boss_door_open_relay
                Action Trigger
            }
                tfbot
                {
                    Template T_TFBot_Giant_Void_Eye_Boss
                    Skill Expert
                }
        }
    Wavespawn
        {
            totalcurrency 100
            name "4-1"
            totalcount 3
            spawncount 1
            Maxactive 3
            waitbetweenspawns 15
            waitbeforestarting 0
            where spawnbot
                tfbot
                {
                    Template T_TFBot_Giant_Scout
                }
        }
    Wavespawn
        {
            totalcurrency 200
            name "4-1-A"
            totalcount 24
            waitforallspawned "4-4"
		    Support limited
            spawncount 3
            Maxactive 12
            waitbetweenspawns 6
            waitbeforestarting 0
            where spawnbot
            where spawnbot_flank
                tfbot
                {
                    Template T_TFBot_Heavy_Tomislav
                    Skill Normal
                    MaxVisionRange 1200
                }      
        }
    Wavespawn
        {
            totalcurrency 200
            name "4-1-B"
            totalcount 24
            spawncount 3
            Maxactive 9
            waitforalldead "4-BOSS"
            waitbetweenspawns 5
            waitbeforestarting 3
            where spawnbot
                tfbot
                {
                    Class Soldier
                    Skill Normal
                    Item "The liberty launcher"
                    Attributes "AlwaysCrit"
                    Item "Armored Authority"
                    Item "Patriot's Pouches"
                }
        }
    Wavespawn
        {
            totalcurrency 200
            name "4-3"
            totalcount 2
            spawncount 1
            Maxactive 2
            waitforalldead "4-BOSS"
            waitbetweenspawns 35
            waitbeforestarting 0
            where spawnbot
            tfbot
            {
                Template T_TFBot_Giant_Soldier_SlowBarrage
                Skill Expert
            }
        }
    Wavespawn
        {
            totalcurrency 150
            name "4-3-A"
            totalcount 4
            spawncount 4
            Maxactive 4
            waitforalldead "4-BOSS"
            waitbetweenspawns 0
            waitbeforestarting 0
            where spawnbot
            Squad
            {
                tfbot
                {
                    Template T_TFBot_Giant_Soldier_Spammer_DirectHit
                    Skill Expert
                }
                tfbot
                {
                    Template T_TFBot_Medic_QuickUber
                    Skill Expert
                }
                tfbot
                {
                    Template T_TFBot_Medic_QuickUber
                    Skill Expert
                }
                tfbot
                {
                    Template T_TFBot_Medic_QuickUber
                    Skill Expert
                }
            }
        }
    Wavespawn
        {
            totalcurrency 300
            name "4-3-S"
            totalcount 36
            Support Limited
            spawncount 4
            Maxactive 8
            waitforalldead "4-2"
            waitbetweenspawns 10
            waitbeforestarting 0
            where spawnbot_flank2
            where spawnbot_flank
                tfbot
                {
                    Class Scout
                    Item "The Shortstop"
                    Item "Troublemaker's Tossle Cap"
                    Item "Long Fall Loafers"
                    Item "Bonk Boy"
                    Skill normal
                    ClassIcon scout_shortstop
                }
            }              
    Wavespawn
        {
            totalcurrency 150
            name "4-4"
            totalcount 4
            spawncount 4
            Maxactive 4
            waitforalldead "4-3"
            waitbetweenspawns 0
            waitbeforestarting 0
            where spawnbot
            Squad
            {
                tfbot
                {
                    Template T_TFBot_Giant_Soldier_Spammer_DirectHit
                    Skill Expert
                }
                tfbot
                {
                    Template T_TFBot_Medic_Kritz
                    Skill Expert
                }
                tfbot
                {
                    Template T_TFBot_Medic_Kritz
                    Skill Expert
                }
                tfbot
                {
                    Template T_TFBot_Medic_QuickUber
                    Skill Expert
                }
            }
        }
    }
wave //Vague 5
    {
        checkpoint yes
        startwaveoutput
            {
                target wave_start_relay
                action trigger
            }
        doneoutput
            {
                target wave_finished_relay
                action trigger
            }
            InitWaveOutput
        {
            Target gamerules
            Action RunScriptCode
            Param "
                EntFire(`bombpath_choose_relay`, `Kill`)
                EntFire(`bombpath_clearall_relay`, `Trigger`)
                EntFire(`bombpath_right_arrows`, `TurnOff`)
                EntFire(`bombpath_left_arrows`, `TurnOn`)
                EntFire(`bombpath_left`, `Trigger`)
                ClientPrint(null,3,`\x08FF54F1FFThe bomb will take the left path`)
                local ent = Entities.FindByClassname(null, `tf_objective_resource`)
                if (ent)
                {
                    NetProps.SetPropString(ent, `m_iszMvMPopfileName`, `discord target`)
                }
            "
        }
        Wavespawn
        {
            totalcurrency 150
            name "5-S"
            totalcount 4
            spawncount 2
            Maxactive 4
            waitforalldead "5-1-A"
            waitbetweenspawns 0
            waitbeforestarting 0
            where spawnbot_flank2
            Squad
            {
                tfbot
                {
                    Template T_TFBot_Giant_Sniper_SMG_Cleaner
                    Skill Hard
                    MaxVisionRange 1500
                }
                tfbot
                {
                    Template T_TFBot_Medic_QuickUber
                    Skill Expert
                }
            }
        }
    Wavespawn
        {
            totalcurrency 100
            name "5-S"
            totalcount 24
            waitforalldead "5-1-A"
            spawncount 1
            Maxactive 8
            waitbetweenspawns 0
            waitbeforestarting 0
            where spawnbot_flank2
            where spawnbot_flank
            Randomchoice
            {
                tfbot
                {
                    Class Scout
                    Item "Scattergun"
                    Attributes AlwaysCrit
                }
                tfbot
                {
                    Class Scout
                    Item "The Soda Popper"
                    Attributes AlwaysCrit
                }
                tfbot
                {
                    Class Scout
                    Item "The Shortstop"
                    Attributes AlwaysCrit
                }
            }
        }
    Wavespawn
        {
            totalcurrency 200
            name "5-1"
            totalcount 2
            spawncount 2
            Maxactive 2
            waitbetweenspawns 0
            waitbeforestarting 5
            where spawnbot_boss
            FirstSpawnWarningSound "vo/announcer_security_alert.mp3"
            FirstSpawnOutput
            {
                Target boss_door_open_relay
                Action Trigger
            }
            Squad
            {
                tfbot
                {
                    Template T_TFBot_Giant_Heavyweapons_Tomislav
                    Skill Expert
                }
                tfbot
                {
                    Template T_TFBot_Giant_Medic_Regen
                    Skill Expert
                }
            }
        }
    Wavespawn
        {
            totalcurrency 200
            name "5-1"
            totalcount 4
            spawncount 4
            Maxactive 4
            waitbetweenspawns 0
            waitbeforestarting 45
            where spawnbot_boss
            //FirstSpawnWarningSound "vo/announcer_security_alert.mp3"
            Squad
            {
                tfbot
                {
                    Template T_TFBot_Giant_Demoman
                    Attributes AlwaysCrit
                    Skill Expert
                }
                tfbot
                {
                    Template T_TFBot_Medic_Shield                  
                    Skill Expert
                }
                tfbot
                {
                    Template T_TFBot_Medic_Shield
                    Skill Expert
                }
                tfbot
                {
                    Template T_TFBot_Medic_Shield
                    Skill Expert
                }
            }
        }
    Wavespawn
        {
            totalcurrency 100
            name "5-1"
            totalcount 2
            spawncount 1
            Maxactive 2
            waitbetweenspawns 10
            waitbeforestarting 0
            where spawnbot
            tfbot
            {
                Template T_TFBot_Giant_Scout_Baseball_Armored
                Attributes AlwaysCrit
                Skill Expert
            }
        }
    Wavespawn
        {
            totalcurrency 50
            name "5-1-A"
            totalcount 24
            spawncount 1
            Maxactive 8
            waitbetweenspawns 0
            waitbeforestarting 2
            where spawnbot_flank2
            where spawnbot_flank
            tfbot
            {
                Template T_TFBot_Soldier_DirectHit
            }
        }
    Wavespawn
        {
            totalcurrency 50
            name "5-1-B"
            totalcount 16
            waitforalldead "5-1-A"
            spawncount 1
            Maxactive 8
            waitbetweenspawns 0
            waitbeforestarting 0
            where spawnbot_flank2
            where spawnbot_flank
            tfbot
            {
                Template T_TFBot_Pyro_Dragon
                Skill Expert
                MaxVisionRange 1200
            }
        }
    Wavespawn
        {
            totalcurrency 200
            name "5-2"
            totalcount 3
            waitforalldead "5-1"
            spawncount 3
            Maxactive 3
            waitbetweenspawns 0
            waitbeforestarting 5
            where spawnbot_flank2
            Squad
            {
                tfbot
                {
                    Template T_TFBot_Giant_Heavyweapons_HealOnKill
                    Skill Expert
                }
                tfbot
                {
                    Template T_TFBot_Medic_QuickUber
                    Skill Expert
                }
                tfbot
                {
                    Template T_TFBot_Medic_QuickUber
                    Skill Expert
                }
            }
        }
    Wavespawn
        {
            totalcurrency 200
            name "5-3"
            totalcount 5
            waitforalldead "5-1"
            spawncount 5
            Maxactive 5
            waitbetweenspawns 0
            waitbeforestarting 5
            where spawnbot_boss
            Squad
            {
                tfbot
                {
                    Template T_TFBot_Giant_Heavyweapons_Heater_Boss
                    Skill Expert
                }
                tfbot
                {
                    Template T_TFBot_Medic_QuickUber
                    Skill Expert
                }
                tfbot
                {
                    Template T_TFBot_Medic_QuickUber
                    Skill Expert
                }
                tfbot
                {
                    Template T_TFBot_Soldier_Hyper_Extended_Battalion
                    Skill normal
                }
                tfbot
                {
                    Template T_TFBot_Soldier_Hyper_Extended_Battalion
                    Skill Normal
                }
            }
        }  
    Wavespawn
        {
            totalcurrency 100
            name "5-S"
            totalcount 50
            Support limited
            waitforalldead "5-1-A"
            spawncount 1
            Maxactive 4
            waitbetweenspawns 0
            waitbeforestarting 0
            where spawnbot_flank2
            where spawnbot_flank
            tfbot
            {
                Template T_TFBot_Demo_Burst
                Skill normal
            }
        }
       
    }
}