#base robot_giant.pop
#base robot_standard.pop

WaveSchedule
{
	StartingCurrency 400
	RespawnWaveTime 7
	CanBotsAttackWhileInSpawnRoom no
	
	RespecEnabled 0 [$SIGSEGV]
	NoReanimators 1 [$SIGSEGV]
	
	Templates
	{
		T_TFBot_Soldier_Samurai
		{
			Class Soldier
			Name "Samurai Soldier"
			ClassIcon demoknight_samurai
			Skill Expert
			Health 750
			Scale 1.3
			Item "The Half-Zatoichi"
			Item "Soldier Samurai Hat"
			Item "The Menpo"
			WeaponRestrictions MeleeOnly
			ItemAttributes
			{
				ItemName "The Half-Zatoichi"
				"damage bonus" 1.5
			}
		}
		T_TFBot_Soldier_Samurai_Backup
		{
			Class Soldier
			Name "Backup Samurai Soldier"
			ClassIcon soldier_samurai_backup
			Skill Expert
			Health 750
			Scale 1.3
			Item "The Battalion's Backup"
			Item "The Half-Zatoichi"
			Item "Soldier Samurai Hat"
			WeaponRestrictions MeleeOnly
			Attributes SpawnWithFullCharge
			ItemAttributes
			{
				ItemName "The Half-Zatoichi"
				"damage bonus" 1.5
			}
			ItemAttributes
			{
				ItemName "The Battalion's Backup"
				"single wep deploy time decreased" 0.5 // Temporary fix for the "weapon switch" bug
			}
			CharacterAttributes
			{
				"increase buff duration" 9.0
			}
		}
	}
	
	Mission // Sentry Buster
	{
		Objective DestroySentries

		InitialCooldown 10
		Where spawnbot
		BeginAtWave 1
		RunForThisManyWaves 8
		CooldownTime 30

        TFBot
		{
			Template T_TFBot_SentryBuster
		}
	}
	Mission // Spy (Wave 5)
	{
		Objective Spy

		InitialCooldown 20
		Where spawnbot_mission_spy
		BeginAtWave 5
		RunForThisManyWaves 1
		CooldownTime 30
		DesiredCount 2

		TFBot
		{
			Class Spy
			Skill Expert
		}
	}
	Mission // Sniper (Wave 7)
	{
		Objective Sniper

		InitialCooldown 30
		Where spawnbot_mission_sniper
		BeginAtWave 7
		RunForThisManyWaves 1
		CooldownTime 30
		DesiredCount 2

		TFBot
		{
			Class Sniper
			Skill Hard
			MaxVisionRange 3000
		}
	}
	Mission // Sniper (Wave 8)
	{
		Objective Sniper

		InitialCooldown 30
		Where spawnbot_mission_sniper
		BeginAtWave 8
		RunForThisManyWaves 1
		CooldownTime 20
		DesiredCount 2

		TFBot
		{
			Class Sniper
			Skill Hard
			MaxVisionRange 3000
		}
	}
	
	Wave // Wave 1 ($600)
	{
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput
		{
			Target wave_finished_relay
			Action trigger
		}
		WaitWhenDone 65
		Checkpoint Yes
		
		WaveSpawn // wave01-1: 24 Soldiers
		{
			Name "wave01"
			Where spawnbot
			TotalCount 24
			MaxActive 9
			SpawnCount 3
			WaitBeforeStarting 0
			WaitBetweenSpawns 10
			TotalCurrency 200
			
			TFBot
			{
				Class Soldier
				Skill Easy
			}
		}
		WaveSpawn // wave01-2: 60 melee Scouts
		{
			Name "wave01"
			Where spawnbot
			TotalCount 60
			MaxActive 12
			SpawnCount 6
			WaitBeforeStarting 0
			WaitBetweenSpawns 10
			TotalCurrency 200
			
			TFBot
			{
				Class Scout
				Skill Hard
				WeaponRestrictions MeleeOnly
			}
		}
		WaveSpawn // wave01-3: 1 Giant Flare Pyro
		{
			Name "wave01"
			Where spawnbot
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 50
			WaitBetweenSpawns 0
			TotalCurrency 150
			
			TFBot
			{
				Template T_TFBot_Giant_Pyro_Flare_Spammer
			}
		}
		WaveSpawn // wave01s-eng: Engineer support
		{
			Name "wave01s_eng"
			Where spawnbot_invasion
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 20
			WaitBetweenSpawns 0
			TotalCurrency 50
			
			Support Limited
			
			TFBot
			{
				Template T_TFBot_Engineer_Sentry_Tele_Battle
			}
		}
	}
	
	Wave // Wave 2 ($500 - $1000 before this wave)
	{
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput
		{
			Target wave_finished_relay
			Action trigger
		}
		WaitWhenDone 65
		Checkpoint Yes
		
		WaveSpawn // wave02a-1: 8 squads (per squad: 1 Pyro and 3 Bowmen)
		{
			Name "wave02a_1"
			Where spawnbot
			TotalCount 32
			MaxActive 16
			SpawnCount 4
			WaitBeforeStarting 0
			WaitBetweenSpawns 5
			TotalCurrency 150
			
			Squad
			{
				TFBot
				{
					Class Pyro
					Skill Easy
					Attributes AlwaysFireWeapon
				}
				TFBot
				{
					Template T_TFBot_Sniper_Huntsman
				}
				TFBot
				{
					Template T_TFBot_Sniper_Huntsman
				}
				TFBot
				{
					Template T_TFBot_Sniper_Huntsman
				}
			}
		}
		WaveSpawn // wave02a-2: 3 Giant Demoknights
		{
			Name "wave02a_2"
			Where spawnbot
			TotalCount 3
			MaxActive 3
			SpawnCount 1
			WaitBeforeStarting 10
			WaitBetweenSpawns 35
			TotalCurrency 200
			
			TFBot
			{
				Template T_TFBot_Giant_DemoMan_PrinceTavish
			}
		}
		WaveSpawn // wave02b: 50 Heavies (1/3 GRU flankers, 2/3 KGB)
		{
			Name "wave02b"
			Where spawnbot_invasion
			TotalCount 50
			MaxActive 20
			SpawnCount 5
			WaitForAllSpawned "wave02a_1"
			WaitBeforeStarting 15
			WaitBetweenSpawns 1
			TotalCurrency 150
			
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Heavyweapons_Heavyweight_Champ_Fast
					Tag nav_prefer_flank_left
					BehaviorModifiers push
				}
				TFBot
				{
					Template T_TFBot_Heavyweapons_Heavyweight_Champ_Fast
					Tag nav_prefer_flank_right
					BehaviorModifiers push
				}
				TFBot
				{
					Template T_TFBot_Heavyweapons_Heavyweight_Champ
					Skill Hard
				}
				TFBot
				{
					Template T_TFBot_Heavyweapons_Heavyweight_Champ
					Skill Hard
				}
				TFBot
				{
					Template T_TFBot_Heavyweapons_Heavyweight_Champ
					Skill Hard
				}
				TFBot
				{
					Template T_TFBot_Heavyweapons_Heavyweight_Champ
					Skill Hard
				}
			}
		}
	}
	
	Wave // Wave 3 ($500 - $1500 before this wave)
	{
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput
		{
			Target wave_finished_relay
			Action trigger
		}
		WaitWhenDone 65
		Checkpoint Yes
		
		WaveSpawn // wave03s: Scout support (1/3 Scattergun, 2/3 Bat)
		{
			Name "wave03s"
			Where spawnbot_invasion
			TotalCount 60
			MaxActive 16
			SpawnCount 8
			WaitBeforeStarting 0
			WaitBetweenSpawns 5
			TotalCurrency 300
			
			Support 1
			
			RandomChoice
			{
				TFBot
				{
					Class Scout
					Skill Easy
				}
				TFBot
				{
					Class Scout
					Skill Hard
					WeaponRestrictions MeleeOnly
				}
				TFBot
				{
					Class Scout
					Skill Hard
					WeaponRestrictions MeleeOnly
				}
			}
		}
		WaveSpawn // wave03: Tank
		{
			Name "wave03"
			TotalCount 1
			WaitBeforeStarting 10
			TotalCurrency 150

			FirstSpawnOutput
			{
				Target boss_spawn_relay
				Action Trigger
			}

			Tank
			{
				Health 24000
				Speed 75
				Name "boss"
				StartingPathTrackNode "boss_path_b1"

				OnKilledOutput
				{
					Target boss_dead_relay
					Action Trigger
				}
				
				OnBombDroppedOutput
				{
					Target boss_deploy_relay
					Action Trigger
				}

			}
		}
		WaveSpawn // wave03s-eng: Engineer support
		{
			Name "wave03s_eng"
			Where spawnbot_invasion
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 10
			WaitBetweenSpawns 0
			TotalCurrency 50
			
			Support Limited
			
			TFBot
			{
				Template T_TFBot_Engineer_Sentry_Tele_Battle
				TeleportWhere spawnbot_invasion
			}
		}
	}
	
	Wave // Wave 4 ($700 - $2000 before this wave)
	{
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput
		{
			Target wave_finished_relay
			Action trigger
		}
		WaitWhenDone 65
		Checkpoint Yes
		
		WaveSpawn // wave04a: 16 Soldier-Medic pairs
		{
			Name "wave04a"
			Where spawnbot
			TotalCount 32
			MaxActive 12
			SpawnCount 4
			WaitBeforeStarting 0
			WaitBetweenSpawns 5
			TotalCurrency 150
			
			Squad
			{
				TFBot
				{
					Class Soldier
					Skill Easy
				}
				TFBot
				{
					Template T_TFBot_Medic_BigHeal
				}
			}
		}
		WaveSpawn // wave04b-1: 1 Giant Heavy (with 5 Medics and a Buff Soldier)
		{
			Name "wave04b_1"
			Where spawnbot
			TotalCount 7
			MaxActive 7
			SpawnCount 7
			WaitForAllSpawned "wave04a"
			WaitBeforeStarting 5
			WaitBetweenSpawns 0
			TotalCurrency 350
			
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Heavyweapons
				}
				TFBot
				{
					Template T_TFBot_Medic_BigHeal
				}
				TFBot
				{
					Template T_TFBot_Medic_BigHeal
				}
				TFBot
				{
					Template T_TFBot_Medic_BigHeal
				}
				TFBot
				{
					Template T_TFBot_Medic_BigHeal
				}
				TFBot
				{
					Template T_TFBot_Medic_BigHeal
				}
				TFBot
				{
					Template T_TFBot_Soldier_Extended_Buff_Banner
				}
			}
		}
		WaveSpawn // wave04b-2: 30 Demoknights
		{
			Name "wave04b_2"
			Where spawnbot
			TotalCount 30
			MaxActive 12
			SpawnCount 6
			WaitForAllSpawned "wave04a"
			WaitBeforeStarting 10
			WaitBetweenSpawns 8
			TotalCurrency 150
			
			TFBot
			{
				Template T_TFBot_Demoman_Knight
			}
		}
		WaveSpawn // wave04c: 1 Super Scout
		{
			Name "wave04c"
			Where spawnbot
			TotalCount 1
			MaxActive 1
			SpawnCount 1
			WaitForAllDead "wave04b_1"
			WaitBeforeStarting 0
			WaitBetweenSpawns 0
			TotalCurrency 50
			
			TFBot
			{
				Template T_TFBot_Giant_Scout_Fast
			}
		}
	}
	
	Wave // Wave 5 ($750 - $2700 before this wave)
	{
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput
		{
			Target wave_finished_relay
			Action trigger
		}
		WaitWhenDone 65
		Checkpoint Yes
		
		WaveSpawn // wave05-1: 2 Tanks
		{
			Name "wave05"
			TotalCount 2
			WaitBeforeStarting 0
			WaitBetweenSpawns 40
			TotalCurrency 400

			FirstSpawnOutput
			{
				Target boss_spawn_relay
				Action Trigger
			}

			Tank
			{
				Health 20000
				Speed 75
				Name "boss"
				StartingPathTrackNode "boss_path_b1"

				OnKilledOutput
				{
					Target boss_dead_relay
					Action Trigger
				}
				
				OnBombDroppedOutput
				{
					Target boss_deploy_relay
					Action Trigger
				}

			}
		}
		WaveSpawn // wave05s: Bowman support
		{
			Name "wave05s"
			Where spawnbot_invasion
			TotalCount 50
			MaxActive 10
			SpawnCount 5
			WaitBeforeStarting 0
			WaitBetweenSpawns 10
			TotalCurrency 200
			
			Support 1
			
			TFBot
			{
				Template T_TFBot_Sniper_Huntsman
			}
		}
		WaveSpawn // wave05-2: 1 Giant Rapid Fire Soldier (with 2 Concheror Soldiers)
		{
			Name "wave05"
			Where spawnbot
			TotalCount 3
			MaxActive 3
			SpawnCount 3
			WaitBeforeStarting 20
			WaitBetweenSpawns 0
			TotalCurrency 150
			
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Soldier_Spammer
				}
				TFBot
				{
					Template T_TFBot_Soldier_Extended_Concheror
				}
				TFBot
				{
					Template T_TFBot_Soldier_Extended_Concheror
				}
			}
		}
	}
	
	Wave // Wave 6 ($650 - $3450 before this wave)
	{
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput
		{
			Target wave_finished_relay
			Action trigger
		}
		WaitWhenDone 65
		Checkpoint Yes
		
		WaveSpawn // wave06s-eng: Engineer support
		{
			Name "wave06s_eng"
			Where spawnbot_invasion
			TotalCount 2
			MaxActive 2
			SpawnCount 1
			WaitBeforeStarting 30
			WaitBetweenSpawns 30
			TotalCurrency 100
			
			Support Limited
			
			TFBot
			{
				Template T_TFBot_Engineer_Sentry_Tele_Battle
			}
		}
		WaveSpawn // wave06a-1: 18 Samurai Soldiers (leaders have a Backup)
		{
			Name "wave06a_1"
			Where spawnbot
			TotalCount 18
			MaxActive 12
			SpawnCount 3
			WaitBeforeStarting 0
			WaitBetweenSpawns 10
			TotalCurrency 200
			
			Squad
			{
				TFBot
				{
					Template T_TFBot_Soldier_Samurai_Backup
				}
				TFBot
				{
					Template T_TFBot_Soldier_Samurai
				}
				TFBot
				{
					Template T_TFBot_Soldier_Samurai
				}
			}
		}
		WaveSpawn // wave06a-2: 10 Super Scouts
		{
			Name "wave06a_2"
			Where spawnbot
			TotalCount 10
			MaxActive 5
			SpawnCount 1
			WaitBeforeStarting 15
			WaitBetweenSpawns 15
			TotalCurrency 150
			
			TFBot
			{
				Template T_TFBot_Giant_Scout_Fast
			}
		}
		WaveSpawn // wave06b: 5 Giant Rapid Fire Demomen
		{
			Name "wave06b"
			Where spawnbot
			TotalCount 5
			MaxActive 5
			SpawnCount 1
			WaitForAllSpawned "wave06a_1"
			WaitBeforeStarting 10
			WaitBetweenSpawns 15
			TotalCurrency 100
			
			TFBot
			{
				Template T_TFBot_Giant_Demo_RapidFire
			}
		}
		WaveSpawn // wave06s: Demoman support
		{
			Name "wave06s"
			Where spawnbot
			TotalCount 32
			MaxActive 12
			SpawnCount 4
			WaitForAllSpawned "wave06a_1"
			WaitBeforeStarting 15
			WaitBetweenSpawns 10
			TotalCurrency 100
			
			Support 1
			
			TFBot
			{
				Class Demoman
				Skill Easy
			}
		}
	}
	
	Wave // Wave 7 ($600 - $4100 before this wave)
	{
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput
		{
			Target wave_finished_relay
			Action trigger
		}
		WaitWhenDone 65
		Checkpoint Yes
		
		WaveSpawn // wave07a: 80 Scouts (1/2 Scattergun, 1/2 Sandman)
		{
			Name "wave07a"
			Where spawnbot_invasion
			TotalCount 80
			MaxActive 20
			SpawnCount 5
			WaitBeforeStarting 0
			WaitBetweenSpawns 0
			TotalCurrency 200
			
			RandomChoice
			{
				TFBot
				{
					Class Scout
					Skill Easy
				}
				TFBot
				{
					Template T_TFBot_Scout_Sandman
					Skill Expert
				}
			}
		}
		WaveSpawn // wave07b-1: 3 Giant Charged Soldiers (each with 4 Medics)
		{
			Name "wave07b"
			Where spawnbot
			TotalCount 15
			MaxActive 10
			SpawnCount 5
			WaitForAllSpawned "wave07a"
			WaitBeforeStarting 0
			WaitBetweenSpawns 25
			TotalCurrency 300
			
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Soldier_Crit
				}
				TFBot
				{
					Template T_TFBot_Medic_BigHeal
				}
				TFBot
				{
					Template T_TFBot_Medic_BigHeal
				}
				TFBot
				{
					Template T_TFBot_Medic_BigHeal
				}
				TFBot
				{
					Template T_TFBot_Medic_BigHeal
				}
			}
		}
		WaveSpawn // wave07b-2: 30 Heavies
		{
			Name "wave07b"
			Where spawnbot
			TotalCount 30
			MaxActive 12
			SpawnCount 6
			WaitForAllSpawned "wave07a"
			WaitBeforeStarting 10
			WaitBetweenSpawns 15
			TotalCurrency 100

			TFBot
			{
				Class Heavyweapons
				Skill Easy
			}
		}
	}
	
	Wave // Wave 8 ($800 - $4700 before this wave)
	{
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput
		{
			Target wave_finished_relay
			Action trigger
		}
		WaitWhenDone 65
		Checkpoint Yes
		
		WaveSpawn // wave08a-1: 18 Steel Gauntlets
		{
			Name "wave08a_1"
			Where spawnbot
			TotalCount 18
			MaxActive 9
			SpawnCount 3
			WaitBeforeStarting 0
			WaitBetweenSpawns 10
			TotalCurrency 200
			
			TFBot
			{
				Template T_TFBot_Heavyweapons_Fist
			}
		}
		WaveSpawn // wave08a-2: 40 Pyros
		{
			Name "wave08a_2"
			Where spawnbot
			TotalCount 40
			MaxActive 10
			SpawnCount 5
			WaitBeforeStarting 0
			WaitBetweenSpawns 10
			TotalCurrency 150
			
			TFBot
			{
				Class Pyro
				Skill Normal
				Attributes AlwaysFireWeapon
			}
		}
		WaveSpawn // wave08s-eng: Engineer support
		{
			Name "wave08s_eng"
			Where spawnbot_invasion
			TotalCount 2
			MaxActive 2
			SpawnCount 1
			WaitBeforeStarting 30
			WaitBetweenSpawns 30
			TotalCurrency 100
			
			Support Limited
			
			TFBot
			{
				Template T_TFBot_Engineer_Sentry_Tele_Battle
			}
		}
		WaveSpawn // wave08b-1-1: 2 Giant Heavies (each with 3 Medics)
		{
			Name "wave08b"
			Where spawnbot
			TotalCount 8
			MaxActive 8
			SpawnCount 4
			WaitForAllSpawned "wave08a_1"
			WaitBeforeStarting 10
			WaitBetweenSpawns 40
			TotalCurrency 200
			
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Heavyweapons
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
				}
				TFBot
				{
					Template T_TFBot_Medic_QuickUber
				}
			}
		}
		WaveSpawn // wave08b-1-2: Final Tank
		{
			Name "wave08b"
			TotalCount 1
			WaitForAllSpawned "wave08a_1"
			WaitBeforeStarting 30
			TotalCurrency 0

			FirstSpawnOutput
			{
				Target boss_spawn_relay
				Action Trigger
			}

			Tank
			{
				Health 25000
				Speed 75
				Name "boss"
				Skin 1
				StartingPathTrackNode "boss_path_b1"

				OnKilledOutput
				{
					Target boss_dead_relay
					Action Trigger
				}
				
				OnBombDroppedOutput
				{
					Target boss_deploy_relay
					Action Trigger
				}

			}
		}
		WaveSpawn // wave08b-2: 30 Demomen
		{
			Name "wave08b"
			Where spawnbot
			TotalCount 30
			MaxActive 10
			SpawnCount 5
			WaitForAllSpawned "wave08a_2"
			WaitBeforeStarting 10
			WaitBetweenSpawns 8
			TotalCurrency 150
			
			TFBot
			{
				Class Demoman
				Skill Easy
			}
		}
	}
}